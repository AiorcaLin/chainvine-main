# ChainVine é˜¶æ®µæ€§æ€»ç»“æ–‡æ¡£ v8

> **ç”Ÿæˆæ—¶é—´**: 2026-02-17 16:00  
> **ä¸Šä¸€ç‰ˆ**: 2026-02-16 14:00ï¼ˆv7ï¼Œå·²è¢«æœ¬æ–‡æ¡£æ›¿ä»£ï¼‰  
> **ç›®çš„**: ä¸ºä¸‹ä¸€ä¸ªå¯¹è¯çª—å£æä¾›å®Œæ•´ä¸Šä¸‹æ–‡ï¼Œæ— éœ€é‡æ–°åˆ†æé¡¹ç›®  
> **é¡¹ç›®**: ChainVine â€” é¢å‘åŒºå—é“¾çš„æ¼æ´æ‰«æç³»ç»Ÿï¼ˆæœ¬ç§‘æ¯•ä¸šè®¾è®¡ï¼‰  
> **ç­”è¾©æˆªæ­¢**: 2026-03-25  
> **å­¦æ ¡**: æˆéƒ½ä¿¡æ¯å·¥ç¨‹å¤§å­¦ Â· ä¿¡æ¯å®‰å…¨ä¸“ä¸š  
> **ä»“åº“**: https://github.com/AiorcaLin/chainvine-main  
> **Release**: v0.1.0 tag å·²æ¨é€è‡³ GitHubï¼ˆç­”è¾©åŸºçº¿ç‰ˆï¼‰

---

## 1. v8 æ ¸å¿ƒå˜æ›´ï¼šAIæç¤ºè¯ä¼˜åŒ– + Monacoä¸»é¢˜è”åŠ¨ + å®¡è®¡å­é¡µé¢è§†è§‰ç»Ÿä¸€ + ç”¨æˆ·æ‰‹å†Œé‡å†™ + æ¯•ä¸šè®ºæ–‡æ’°å†™

### 1.1 å˜æ›´æ¦‚è¿°

v8 æ˜¯ä¸€æ¬¡**å¤§è§„æ¨¡è´¨é‡æå‡ç‰ˆæœ¬**ï¼Œå®Œæˆäº†å…­å¤§æ”¹è¿›ï¼š

1. **AI æç¤ºè¯ç§‘å­¦åŒ–é‡æ„**ï¼ˆ`prompts.ts`ï¼‰ï¼šå°†æ—§ç‰ˆé€šç”¨æç¤ºè¯å‡çº§ä¸ºå­¦æœ¯çº§ Prompt Engineering æ¶æ„â€”â€”ä¸¥æ ¼ Markdown è¾“å‡ºæ¨¡å¼ã€åŸºäº Durieux et al. (2020) çœŸå®æ”»å‡»é¢‘ç‡çš„åˆ†å±‚ä¼˜å…ˆçº§ã€Chain-of-Thought æ¨ç†åè®®ã€ä¸ Slither äº’è¡¥çš„è§’è‰²å®šä¹‰ï¼›Super Prompt å¢åŠ å†å²æ¼æ´é”šå®š + å¤šè§†è§’åˆ†æ + è¾¹ç•Œæ¡ä»¶æ¢ç´¢ + ç»æµæ”»å‡»å»ºæ¨¡
2. **Monaco Editor ä¸»é¢˜è”åŠ¨**ï¼ˆ`audit/page.tsx`ï¼‰ï¼šé€šè¿‡ `next-themes` çš„ `useTheme()` é’©å­åŠ¨æ€åˆ‡æ¢ Monaco ç¼–è¾‘å™¨ä¸»é¢˜ï¼Œäº®è‰²æ¨¡å¼ `vs` / æš—è‰²æ¨¡å¼ `vs-dark`ï¼Œè§£å†³é—ç•™ v4 çš„ Issue #4
3. **å®¡è®¡å­é¡µé¢è§†è§‰ç»Ÿä¸€**ï¼ˆ`analyze/page.tsx` + `source/page.tsx`ï¼‰ï¼šä¸¤ä¸ªå­é¡µé¢ç»Ÿä¸€é‡‡ç”¨å“ç‰ŒåŒ–åŠ è½½åŠ¨ç”»ï¼ˆChainVineLogo + æ—‹è½¬å…‰ç¯ + è„‰å†²æ•ˆæœï¼‰ã€æ¸å˜åœ†åœˆè£…é¥°èƒŒæ™¯ã€ä¸å®¡è®¡ä¸»é¡µä¸€è‡´çš„ Hero Section é£æ ¼ï¼Œä¿®å¤ç©ºçŠ¶æ€æ˜¾ç¤º
4. **ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œå…¨é¢é‡å†™**ï¼ˆ`USAGE.md`ï¼‰ï¼šä»æ—§ç‰ˆ "Mush Audit" v1.1 çš„ 106 è¡Œå‡çº§ä¸º "ChainVine" v2.0 çš„ 452 è¡Œï¼Œæ¶µç›–åŒå¼•æ“æ¶æ„å›¾ã€3-Provider é…ç½®æŒ‡å—ã€æ¨¡å‹æ¨èçŸ©é˜µã€Super Prompt è¯´æ˜ã€Agent API å®Œæ•´æ–‡æ¡£ã€æŠ¥å‘Šå¯¼å‡ºæŒ‡å—ã€10 æ¡ FAQ å’Œå­¦æœ¯å‚è€ƒæ–‡çŒ®
5. **README.md è¿›ä¸€æ­¥å¢å¼º**ï¼šä» v7 çš„ 173 è¡Œæ‰©å±•åˆ° 219 è¡Œï¼Œå†…å®¹æ›´åŠ å®Œæ•´
6. **æ¯•ä¸šè®ºæ–‡æ¡†æ¶ + å®éªŒæ•°æ®**ï¼šåˆ›å»ºå®Œæ•´ 5 ç« è®ºæ–‡ç»“æ„ï¼ˆ~12,000 å­—ï¼‰ï¼Œå¹¶æ”¶é›† USDT/Vault åˆçº¦çš„åŒå¼•æ“å®éªŒæ•°æ®å¡«å…¥ç¬¬å››ç« 

### 1.2 æ–°å¢æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ç”¨é€” | è¯´æ˜ |
|------|------|------|
| `docs/STAGE_SUMMARY-v8.md` | æœ¬æ–‡æ¡£ | â€” |
| `docs/æ¯•ä¸šè®ºæ–‡/è®ºæ–‡æ­£æ–‡.md` | æ¯•ä¸šè®ºæ–‡æ­£æ–‡ | 5 ç«  ~12,000 å­—ï¼Œå«å®éªŒæ•°æ® |
| `docs/æ¯•ä¸šè®ºæ–‡/experiment-usdt-dual.json` | USDT åŒå¼•æ“å®éªŒæ•°æ® | å®é™…è¿è¡Œé‡‡é›† |
| `docs/æ¯•ä¸šè®ºæ–‡/experiment-vault-slither.json` | Vault Slither å•å¼•æ“å®éªŒæ•°æ® | å®é™…è¿è¡Œé‡‡é›† |
| `docs/æ¯•ä¸šè®ºæ–‡/experiment-vault-ai-only.md` | Vault AI å•å¼•æ“å®éªŒæ•°æ® | å®é™…è¿è¡Œé‡‡é›† |
| `docs/æ¯•ä¸šè®ºæ–‡/å­¦å£«å­¦ä½è®ºæ–‡åˆç¨¿.docx` | è®ºæ–‡ Word åˆç¨¿ | ç”¨æˆ·æä¾› |
| `docs/æ¯•ä¸šè®ºæ–‡/é™„ä»¶3-æˆéƒ½ä¿¡æ¯å·¥ç¨‹å¤§å­¦å­¦å£«å­¦ä½è®ºæ–‡æ ¼å¼è§„èŒƒ/` | è®ºæ–‡æ ¼å¼è§„èŒƒæ–‡ä»¶å¤¹ | ç”¨æˆ·æä¾›ï¼ˆå« 4 ä¸ª docxï¼‰ |

### 1.3 ä¿®æ”¹æ–‡ä»¶æ¸…å•ï¼ˆ10 ä¸ªï¼‰

| æ–‡ä»¶ | æ”¹åŠ¨æ‘˜è¦ | æ”¹åŠ¨è§„æ¨¡ |
|------|---------|---------|
| `src/services/audit/prompts.ts` | **AI æç¤ºè¯å…¨é¢é‡æ„**ï¼šSECURITY_AUDIT_PROMPT + SUPPER_PROMPT åŒé‡ä¼˜åŒ– | 309 åˆ  + 160 æ–° â‰ˆ å®Œå…¨é‡å†™ |
| `src/app/(with-header)/audit/page.tsx` | **Monaco ä¸»é¢˜è”åŠ¨** + Hero Section å“ç‰ŒåŒ–ï¼ˆv7 å»¶ç»­ï¼‰ | +49 / -24 è¡Œ |
| `src/app/(with-header)/audit/analyze/page.tsx` | **åˆ†æç»“æœé¡µè§†è§‰ç»Ÿä¸€**ï¼šå“ç‰ŒåŠ è½½åŠ¨ç”» + Hero Section + Markdown æ¸²æŸ“ä¼˜åŒ– | +107 / -63 è¡Œ |
| `src/app/(fullscreen)/audit/source/page.tsx` | **æºç é¡µè§†è§‰ç»Ÿä¸€**ï¼šbg-cardâ†’bg-background + æ¸å˜è£…é¥° + ç©ºçŠ¶æ€ä¼˜åŒ– | +15 / -26 è¡Œ |
| `docs/USAGE.md` | **ç”¨æˆ·æ‰‹å†Œå…¨é¢é‡å†™**ï¼šv1.1 â†’ v2.0 | 462 åˆ  + 452 æ–° â‰ˆ å®Œå…¨é‡å†™ |
| `README.md` | **README å¢å¼º**ï¼š88 è¡Œ â†’ 219 è¡Œå®Œæ•´æ–‡æ¡£ | +219 / -88 è¡Œ |
| `src/app/(with-header)/page.tsx` | **é“¾æ¥è¿ç§»**ï¼š3 å¤„ ChainVine â†’ chainvine-main | 3 è¡Œæ”¹åŠ¨ |
| `docs/STAGE_SUMMARY-v6.md` | **é“¾æ¥è¿ç§»**ï¼šä»“åº“ URL æ›´æ–° | 1 è¡Œæ”¹åŠ¨ |
| `package.json` | æ–°å¢ `next-themes` ä¾èµ– | +1 è¡Œ |
| `package-lock.json` | ä¾èµ–é”æ–‡ä»¶æ›´æ–° | è‡ªåŠ¨ç”Ÿæˆ |

**æ€»è®¡**: 10 ä¸ªæ–‡ä»¶ä¿®æ”¹ï¼Œ817 è¡Œæ–°å¢ï¼Œ474 è¡Œåˆ é™¤

---

## 2. v8 æŠ€æœ¯è¯¦æƒ…

### 2.1 AI æç¤ºè¯ç§‘å­¦åŒ–é‡æ„

**è®¾è®¡ä¾æ®**ï¼š

| æŠ€æœ¯ | å‚è€ƒæ–‡çŒ® | ä½œç”¨ |
|------|---------|------|
| Chain-of-Thought | Wei et al., NeurIPS 2022 [1] | æ¯ä¸ªå‘ç°å‰æ‰§è¡Œ 5 æ­¥æ¨ç†ï¼Œé™ä½å¹»è§‰ |
| æ¼æ´é¢‘ç‡æ’åº | Durieux et al., ACM CCS 2020 [2] | æŒ‰çœŸå®ä¸–ç•Œæ”»å‡»é¢‘ç‡æ’åˆ—åˆ†æä¼˜å…ˆçº§ |
| SWC æ ‡å‡†ç¼–å· | SWC Registry [4] | ç»Ÿä¸€æ¼æ´åˆ†ç±»ä½“ç³» |
| ä¸¥æ ¼è¾“å‡ºæ¨¡å¼ | â€” | ç¡®ä¿ `findingFusion.ts` å¯é è§£æ |
| äº’è¡¥è§’è‰²å®šä¹‰ | Dietterich, MCS 2000 [5] | æ˜ç¡® AI èšç„¦è¯­ä¹‰/é€»è¾‘æ¼æ´ï¼ŒSlither è´Ÿè´£æ¨¡å¼åŒ¹é… |

**SECURITY_AUDIT_PROMPT ç»“æ„**ï¼ˆv8 æ–°ï¼‰ï¼š

```
1. è§’è‰²å®šä¹‰ï¼šworld-class auditorï¼Œdual-engine ä¸­çš„è¯­ä¹‰åˆ†æå¼•æ“
2. <contract_code> + <contract_name>ï¼šè¾“å…¥åŒº
3. <instructions>ï¼šä¸¥æ ¼ Markdown è¾“å‡ºæ ¼å¼
   - ## About â†’ åˆçº¦æ¦‚è¿°
   - ## Findings Severity breakdown â†’ 5 çº§è¡¨æ ¼å®šä¹‰
   - ## Findings â†’ æ¯ä¸ªå‘ç°çš„å›ºå®šæ ¼å¼ï¼ˆTitle/Severity/Description/Impact/Location/Recommendation + --- åˆ†éš”ç¬¦ï¼‰
4. <analysis_priorities>ï¼š4 å±‚ 13 ç±»æ¼æ´æŒ‰é¢‘ç‡æ’åº
   - Tier 1: é‡å…¥ / æƒé™æ§åˆ¶ / ä¸šåŠ¡é€»è¾‘
   - Tier 2: é¢„è¨€æœº / æ•´æ•° / æœªæ£€æŸ¥è°ƒç”¨ / Token é›†æˆ
   - Tier 3: ä»£ç†å‡çº§ / DeFi ç‰¹æœ‰ / DoS / å¯†ç å­¦
   - Tier 4: ä¸­å¿ƒåŒ–é£é™© / Gas ä¼˜åŒ–
5. <reasoning_protocol>ï¼š5 æ­¥ Chain-of-Thought
6. ## Detailed Analysis + ## Final Recommendations + ## Improved Code
```

**SUPPER_PROMPT ç»“æ„**ï¼ˆv8 æ–°ï¼‰ï¼š

```
1. Historical Exploit Anchoring: 7 ä¸ª 2016â€“2023 é‡å¤§äº‹ä»¶ï¼ˆThe DAO / Parity / bZx / Poly / Ronin / Euler / Curveï¼‰
2. Multi-perspective Analysis: æ”»å‡»è€… / MEV æœç´¢è€… / åè®®é˜²å¾¡è€…
3. Edge Case Exploration: 6 ç±»è¾¹ç•Œæ¡ä»¶
4. Economic Attack Modeling: é—ªç”µè´· / æèµ æ”»å‡» / æ²»ç†æ”»å‡» / æ¸…ç®—çº§è”
```

**æ”¹è¿›æ•ˆæœ**ï¼š

- **è§£æå¯é æ€§**ï¼šä¸¥æ ¼è¾“å‡ºæ¨¡å¼ç¡®ä¿ `findingFusion.ts` çš„ `parseAIFindings()` èƒ½ä» AI è¾“å‡ºä¸­ç¨³å®šæå–ç»“æ„åŒ–æ¼æ´æ•°æ®
- **å‡å°‘å¹»è§‰**ï¼šChain-of-Thought è¦æ±‚ AI åœ¨æŠ¥å‘Šå‰å…ˆæ¨ç†éªŒè¯ï¼Œä»…æŠ¥å‘Š"çœŸå®å¯åˆ©ç”¨"çš„æ¼æ´
- **è¦†ç›–å®Œæ•´æ€§**ï¼š4 å±‚ 13 ç±»çš„åˆ†æä¼˜å…ˆçº§ç¡®ä¿ä¸é—æ¼é«˜é¢‘æ¼æ´ç±»å‹
- **å­¦æœ¯è§„èŒƒæ€§**ï¼šå¼•ç”¨ SWC ç¼–å·å’Œå­¦æœ¯æ–‡çŒ®ï¼Œæå‡è®ºæ–‡å¯å¼•ç”¨æ€§

### 2.2 Monaco Editor ä¸»é¢˜è”åŠ¨

**é—®é¢˜**ï¼ˆé—ç•™ v4 Issue #4ï¼‰ï¼šMonaco Editor å§‹ç»ˆä½¿ç”¨ `theme="vs-dark"` ç¡¬ç¼–ç ï¼Œäº®è‰²ä¸»é¢˜ä¸‹ç¼–è¾‘å™¨ä»ä¸ºé»‘è‰²èƒŒæ™¯ï¼Œè§†è§‰ä¸ä¸€è‡´ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

```typescript
import { useMemo } from "react";
import { useTheme } from "next-themes";

const { resolvedTheme } = useTheme();
const monacoTheme = useMemo(
  () => (resolvedTheme === "dark" ? "vs-dark" : "vs"),
  [resolvedTheme]
);

// <Editor theme={monacoTheme} ... />
```

- `resolvedTheme` å¯æ­£ç¡®å¤„ç† `system` ä¸»é¢˜çš„å®é™…å€¼
- `useMemo` é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- æ–°å¢ `next-themes` ä¾èµ–ï¼ˆ`package.json`ï¼‰

### 2.3 å®¡è®¡å­é¡µé¢è§†è§‰ç»Ÿä¸€

**å˜æ›´èŒƒå›´**ï¼š

| é¡µé¢ | æ”¹åŠ¨ |
|------|------|
| `/audit/analyze` | åŠ è½½çŠ¶æ€ï¼šChainVineLogo + æ—‹è½¬å…‰ç¯ + è„‰å†² â†’ å“ç‰Œä¸€è‡´åŠ è½½åŠ¨ç”» |
| | Hero Sectionï¼šæ–°å¢æ¸å˜åœ†åœˆè£…é¥° + `ChainVine Analysis Report` æ ‡é¢˜ + åˆçº¦åœ°å€å±•ç¤º |
| | Markdown æ¸²æŸ“ï¼š`prose-code:text-accent prose-code:bg-secondary` + è¡¨æ ¼è¾¹æ¡†ä¼˜åŒ– |
| | ç©ºçŠ¶æ€ï¼šChainVineLogo + å‹å¥½æç¤ºæ–‡æ¡ˆ |
| | èƒŒæ™¯ï¼š`bg-card` â†’ `bg-background` ç»Ÿä¸€ä½¿ç”¨å…¨å±€ä¸»é¢˜å˜é‡ |
| `/audit/source` | åŠ è½½çŠ¶æ€ï¼šå»é™¤å¤šä½™æ³¨é‡Šï¼Œ`bg-card` â†’ `bg-background` |
| | æ–°å¢æ¸å˜åœ†åœˆè£…é¥°èƒŒæ™¯ |
| | ç©ºçŠ¶æ€ï¼šæ–°å¢ ChainVineLogo + æ”¹è¿›æ–‡æ¡ˆ |
| | Suspense fallbackï¼šåŒæ­¥æ›´æ–° |

**è®¾è®¡åŸåˆ™**ï¼šNielsen, J., "10 Usability Heuristics" [8] ç¬¬å››æ¡ Consistency and Standards â€”â€” é¡µé¢é—´è§†è§‰ä¸€è‡´æ€§é™ä½ç”¨æˆ·è®¤çŸ¥è´Ÿè·ã€‚

### 2.4 ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œé‡å†™

**å¯¹æ¯”**ï¼š

| ç»´åº¦ | æ—§ç‰ˆï¼ˆv1.1ï¼‰ | æ–°ç‰ˆï¼ˆv2.0ï¼‰ |
|------|-------------|-------------|
| å“ç‰Œ | Mush Audit | ChainVine |
| è¡Œæ•° | 106 | 452 |
| Provider è¯´æ˜ | ä»… Neversight | 3 Provider å®Œæ•´å¯¹æ¯”è¡¨ |
| æ¨¡å‹æ¨è | 3 ä¸ªé€šç”¨æ¨è | DashScope 5 æ¨¡å‹ + Neversight 3 æ¨¡å‹ |
| æ¶æ„å›¾ | æ—  | ASCII åŒå¼•æ“æµç¨‹å›¾ |
| Super Prompt | ä¸€å¥è¯ | è¯¦ç»†åŠŸèƒ½è¯´æ˜ï¼ˆ4 ä¸ªå¢å¼ºèƒ½åŠ›ï¼‰ |
| Agent API | åŸºç¡€ç¤ºä¾‹ | åŒæ­¥/æµå¼å®Œæ•´ curl + å­—æ®µè¯´æ˜ + Provider è¡¨ |
| æŠ¥å‘Šå¯¼å‡º | æ—  | MD/ZIP/åœ¨çº¿æŸ¥çœ‹/å›¾ç‰‡ 4 ç§æ ¼å¼ |
| FAQ | 4 æ¡åŸºç¡€ | 7 æ¡è¯¦ç»†ï¼ˆå« DashScope åŒºåŸŸã€ä¸»é¢˜åˆ‡æ¢ã€Cross-Validated è§£é‡Šï¼‰ |
| å‚è€ƒæ–‡çŒ® | æ—  | 7 ç¯‡å­¦æœ¯å¼•ç”¨ |

### 2.5 æ¯•ä¸šè®ºæ–‡æ¡†æ¶ + å®éªŒæ•°æ®

**è®ºæ–‡ç»“æ„**ï¼ˆ`docs/æ¯•ä¸šè®ºæ–‡/è®ºæ–‡æ­£æ–‡.md`ï¼‰ï¼š

| ç« èŠ‚ | å†…å®¹ | å­—æ•° |
|------|------|------|
| æ‘˜è¦ | ä¸­è‹±åŒè¯­æ‘˜è¦ + å…³é”®è¯ | ~600 |
| ç¬¬ä¸€ç«  ç»ªè®º | ç ”ç©¶èƒŒæ™¯ã€å›½å†…å¤–ç°çŠ¶ã€ç ”ç©¶å†…å®¹ã€è®ºæ–‡ç»“æ„ | ~2,500 |
| ç¬¬äºŒç«  ç›¸å…³æŠ€æœ¯ | Solidity/EVMã€é™æ€åˆ†æ(Slither)ã€LLMã€é›†æˆå­¦ä¹ ã€Webæ¡†æ¶ | ~3,000 |
| ç¬¬ä¸‰ç«  ç³»ç»Ÿè®¾è®¡ä¸å®ç° | éœ€æ±‚åˆ†æã€æ¶æ„è®¾è®¡ã€æ¨¡å—å®ç°ï¼ˆåŒå¼•æ“/èåˆ/æµå¼/Agent API/UIï¼‰ | ~3,500 |
| ç¬¬å››ç«  å®éªŒä¸åˆ†æ | å®éªŒç¯å¢ƒã€3 ç»„å¯¹æ¯”å®éªŒã€ç»“æœåˆ†æã€å±€é™æ€§ | ~2,500 |
| ç¬¬äº”ç«  æ€»ç»“ä¸å±•æœ› | ç ”ç©¶æˆæœã€ä¸è¶³ã€æœªæ¥å·¥ä½œ | ~800 |

**å®éªŒæ•°æ®**ï¼ˆå®é™…è¿è¡Œé‡‡é›†ï¼‰ï¼š

| å®éªŒ | åˆçº¦ | å¼•æ“æ¨¡å¼ | æ•°æ®æ–‡ä»¶ |
|------|------|---------|---------|
| å®éªŒä¸€ | USDT (ERC-20) | Slither + AI åŒå¼•æ“ | `experiment-usdt-dual.json` |
| å®éªŒäºŒ | Vault (è‡ªç¼–æ¼æ´åˆçº¦) | Slither å•å¼•æ“ | `experiment-vault-slither.json` |
| å®éªŒäºŒ | Vault | AI å•å¼•æ“ | `experiment-vault-ai-only.md` |

---

## 3. é¡¹ç›®æ¶æ„æ¦‚è¿°ï¼ˆv8 æ›´æ–°ï¼‰

```
chainvine-main/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx                          # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ globals.css                         # å…¨å±€CSS + æ˜æš—ä¸»é¢˜CSSå˜é‡
â”‚   â”‚   â”œâ”€â”€ icon.svg                            # SVG favicon
â”‚   â”‚   â”œâ”€â”€ (with-header)/                      # Route Group â€” å¸¦å…¨å±€Headerçš„é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx                      # Headerå¸ƒå±€
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                        # ğŸ”„ é¦–é¡µï¼ˆv7 é“¾æ¥è¿ç§»ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ audit/
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx                    # ğŸ”„ ä¸»å®¡è®¡é¡µé¢ï¼ˆv8 Monacoä¸»é¢˜è”åŠ¨ + v7 Heroæ”¹é€ ï¼‰
â”‚   â”‚   â”‚       â””â”€â”€ analyze/page.tsx            # ğŸ”„ åˆ†æç»“æœé¡µï¼ˆv8 è§†è§‰ç»Ÿä¸€ï¼‰
â”‚   â”‚   â”œâ”€â”€ (fullscreen)/                       # Route Group â€” å…¨å±é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ audit/
â”‚   â”‚   â”‚       â””â”€â”€ source/page.tsx             # ğŸ”„ æºç æŸ¥çœ‹é¡µï¼ˆv8 è§†è§‰ç»Ÿä¸€ï¼‰
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ agent/audit/route.ts            # Agentå®¡è®¡APIï¼ˆåŒæ­¥+æµå¼ï¼‰
â”‚   â”‚       â”œâ”€â”€ ai-analyze/route.ts             # å‰ç«¯AIåˆ†æä»£ç†ï¼ˆåŒæ­¥+æµå¼SSEï¼‰
â”‚   â”‚       â”œâ”€â”€ contract-info/route.ts          # åˆçº¦ä¿¡æ¯API
â”‚   â”‚       â”œâ”€â”€ source/route.ts                 # æºç è·å–API
â”‚   â”‚       â””â”€â”€ slither/route.ts                # Slitherä»£ç†API
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ llm/                                # LLM ProvideræŠ½è±¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts                        # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ client.ts                       # ç»Ÿä¸€è°ƒç”¨å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ audit/
â”‚   â”‚       â”œâ”€â”€ dualEngineAnalyzer.ts           # æµè§ˆå™¨ç«¯åŒå¼•æ“ç¼–æ’å™¨
â”‚   â”‚       â”œâ”€â”€ dualEngineAnalyzerServer.ts     # æœåŠ¡å™¨ç«¯åŒå¼•æ“ç¼–æ’å™¨
â”‚   â”‚       â”œâ”€â”€ contractAnalyzer.ts             # æµè§ˆå™¨ç«¯AIåˆ†æå™¨
â”‚   â”‚       â”œâ”€â”€ contractAnalyzerServer.ts       # æœåŠ¡å™¨ç«¯AIåˆ†æå™¨
â”‚   â”‚       â”œâ”€â”€ findingFusion.ts                # èåˆç®—æ³•ï¼ˆå…±ç”¨ï¼‰
â”‚   â”‚       â”œâ”€â”€ slitherAnalyzer.ts              # Slitheré€šä¿¡ï¼ˆå…±ç”¨ï¼‰
â”‚   â”‚       â”œâ”€â”€ reportGenerator.ts              # æŠ¥å‘Šç”Ÿæˆ
â”‚   â”‚       â””â”€â”€ prompts.ts                      # ğŸ”„ AIæç¤ºè¯ï¼ˆv8 ç§‘å­¦åŒ–é‡æ„ï¼‰
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ audit/
â”‚   â”‚   â”‚   â”œâ”€â”€ AIConfigModal.tsx               # AIé…ç½®å¼¹çª—ï¼ˆ3 Provideré€‰æ‹©å™¨ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ SourcePreview.tsx               # æºç é¢„è§ˆ+åˆ†æï¼ˆStreamAI overlayï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ ...                             # å…¶ä»–ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ ai.ts                               # AIç±»å‹ï¼ˆAIProvider + providerå­—æ®µï¼‰
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ ai.ts                               # AIå·¥å…·ï¼ˆProviderè·¯ç”±+SSEè§£æ+æµå¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ dashscope-models.ts                 # DashScopeæ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ neversight-models.ts                # Neversightæ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ openai-models.ts                    # OpenAIæ¨¡å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ instrumentation.ts                      # å…¨å±€fetchä»£ç†
â”œâ”€â”€ slither-service/                            # Slither Dockerå¾®æœåŠ¡
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ STAGE_SUMMARY-v8.md                     # ğŸ†• æœ¬æ–‡æ¡£
â”‚   â”œâ”€â”€ STAGE_SUMMARY-v7.md                     # v7æ–‡æ¡£
â”‚   â”œâ”€â”€ STAGE_SUMMARY-v6.md                     # ğŸ”„ v6æ–‡æ¡£ï¼ˆé“¾æ¥è¿ç§»ï¼‰
â”‚   â”œâ”€â”€ STAGE_SUMMARY-v5.md                     # v5æ–‡æ¡£ï¼ˆä¿ç•™ï¼‰
â”‚   â”œâ”€â”€ openapi-agent-audit.yaml                # OpenAPI 3.0æ¥å£æ–‡æ¡£
â”‚   â”œâ”€â”€ USAGE.md                                # ğŸ”„ ä½¿ç”¨æ–‡æ¡£ï¼ˆv8 å…¨é¢é‡å†™ï¼‰
â”‚   â”œâ”€â”€ PRD.md / DESIGN.md                      # éœ€æ±‚/è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ æµ‹è¯•è®°å½•/                                # æ‰‹åŠ¨æµ‹è¯•è®°å½•
â”‚   â””â”€â”€ æ¯•ä¸šè®ºæ–‡/                                # ğŸ†• æ¯•ä¸šè®ºæ–‡å·¥ä½œåŒº
â”‚       â”œâ”€â”€ è®ºæ–‡æ­£æ–‡.md                          # ğŸ†• è®ºæ–‡ä¸»ä½“ï¼ˆ5ç«  ~12,000å­—ï¼‰
â”‚       â”œâ”€â”€ experiment-usdt-dual.json            # ğŸ†• USDT åŒå¼•æ“å®éªŒæ•°æ®
â”‚       â”œâ”€â”€ experiment-vault-slither.json        # ğŸ†• Vault Slither å®éªŒæ•°æ®
â”‚       â”œâ”€â”€ experiment-vault-ai-only.md          # ğŸ†• Vault AI å®éªŒæ•°æ®
â”‚       â”œâ”€â”€ å­¦å£«å­¦ä½è®ºæ–‡åˆç¨¿.docx                 # ç”¨æˆ·æä¾›
â”‚       â””â”€â”€ é™„ä»¶3-è®ºæ–‡æ ¼å¼è§„èŒƒ/                    # å­¦æ ¡æ ¼å¼æ¨¡æ¿
â”œâ”€â”€ README.md                                   # ğŸ”„ é¡¹ç›®è¯´æ˜ï¼ˆv8 å¢å¼ºè‡³ 219 è¡Œï¼‰
â”œâ”€â”€ .env.local                                  # ç¯å¢ƒé…ç½®
â”œâ”€â”€ .env.example                                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ docker-compose.yml                          # Slitherå®¹å™¨ç¼–æ’
```

---

## 4. æŠ€æœ¯æ¶æ„è¯´æ˜ï¼ˆç»§æ‰¿ v7ï¼Œæ— ç»“æ„å˜æ›´ï¼‰

### 4.1 ä¸‰æ¡è°ƒç”¨é“¾è·¯

**æµè§ˆå™¨ç«¯ â€” Neversightï¼ˆåŸæœ‰ï¼Œä¿ç•™ï¼‰**ï¼š
```
ç”¨æˆ·åœ¨ UI æ“ä½œ
  â†’ AIConfigModal (provider=neversight, API Key å­˜ localStorage)
  â†’ contractAnalyzer.ts â†’ analyzeWithAI (utils/ai.ts)
  â†’ æµè§ˆå™¨ç›´è¿ Neversight API (https://api.neversight.dev/v1)
  â†’ dualEngineAnalyzer.ts (æµè§ˆå™¨ç«¯ç¼–æ’)
```

**æµè§ˆå™¨ç«¯ â€” DashScope/OpenAIï¼ˆv6 æ–°å¢ï¼‰**ï¼š
```
ç”¨æˆ·åœ¨ UI æ“ä½œ
  â†’ AIConfigModal (provider=dashscope/openai, æ— éœ€è¾“å…¥ Key)
  â†’ contractAnalyzer.ts â†’ analyzeWithAI (utils/ai.ts)
  â†’ fetch /api/ai-analyze (åŒæ­¥ or SSE æµå¼)
    â†’ æœåŠ¡å™¨è¯»å– .env.local ä¸­çš„ API Key
    â†’ chatCompletion / chatCompletionStream (services/llm/client.ts)
    â†’ è·¯ç”±åˆ° DashScope / OpenAI ç«¯ç‚¹
  â†’ dualEngineAnalyzer.ts (æµè§ˆå™¨ç«¯ç¼–æ’)
```

**æœåŠ¡å™¨ç«¯ â€” Agent APIï¼ˆv5ï¼Œä¿ç•™ï¼‰**ï¼š

```
å¤–éƒ¨ Agent/è„šæœ¬
  â†’ POST /api/agent/audit (x-agent-api-key é‰´æƒ)
  â†’ dualEngineAnalyzerServer.ts (æœåŠ¡å™¨ç«¯ç¼–æ’)
  â†’ è¿”å›ç»“æ„åŒ– JSON æˆ– SSE æµ
```

### 4.2 StreamAI 5 å±‚æµå¼ç®¡é“ï¼ˆç»§æ‰¿ v6ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLM Provider (DashScope/OpenAI/Neversight)                 â”‚
â”‚  â†’ SSE: data: {choices:[{delta:{content:"chunk"}}]}         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /api/ai-analyze (æœåŠ¡å™¨) æˆ– æµè§ˆå™¨ç›´è¿                       â”‚
â”‚  â†’ SSE: data: "chunk"                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  utils/ai.ts â†’ parseSSEStream()                             â”‚
â”‚  â†’ onChunk("chunk") å›è°ƒ                                    â”‚
â”‚  â†’ è¿”å›å®Œæ•´æ–‡æœ¬ Promise<string>                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  contractAnalyzer.ts â†’ dualEngineAnalyzer.ts                â”‚
â”‚  â†’ onProgress({ stage: "ai-chunk", aiChunk: "chunk" })      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SourcePreview.tsx / audit/page.tsx                          â”‚
â”‚  â†’ streamingRef.current += chunk  (é›¶å¼€é”€ç´¯ç§¯)               â”‚
â”‚  â†’ setInterval 150ms â†’ setStreamingText()  (èŠ‚æµæ¸²æŸ“)        â”‚
â”‚  â†’ åŠ è½½æµ®å±‚ä¸­å±•ç¤ºå®æ—¶ AI è¾“å‡º + è‡ªåŠ¨æ»šåŠ¨                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 å‰ç«¯å¤š Provider è®¾è®¡ï¼ˆç»§æ‰¿ v6ï¼‰

- `types/ai.ts`: `AIProvider = "neversight" | "dashscope" | "openai"`
- `AIConfig.provider`: ä¿å­˜åœ¨ localStorageï¼Œå…¼å®¹æ—§é…ç½®ï¼ˆæ—  provider å­—æ®µé»˜è®¤ `"neversight"`ï¼‰
- `AIConfigModal.tsx`: 3 ä¸ª Provider å¡ç‰‡é€‰æ‹©å™¨ï¼Œåˆ‡æ¢ Provider è‡ªåŠ¨åˆ‡æ¢é»˜è®¤æ¨¡å‹
- `utils/ai.ts`: `analyzeWithAI()` æ ¹æ® provider è·¯ç”±
- `/api/ai-analyze/route.ts`: ä»…å…è®¸ `dashscope` å’Œ `openai`ï¼ŒåŒæ­¥ + æµå¼ä¸¤ç§æ¨¡å¼

### 4.4 DashScope åŒºåŸŸç«¯ç‚¹ï¼ˆç»§æ‰¿ v6ï¼‰

| åŒºåŸŸ | ç«¯ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| åŒ—äº¬ | `https://dashscope.aliyuncs.com/compatible-mode/v1` | å›½å†…ç›´è¿ï¼Œæ— ä»£ç† |
| å¼—å‰å°¼äºš | `https://dashscope-us.aliyuncs.com/compatible-mode/v1` | **å½“å‰ä½¿ç”¨**ï¼Œç¾å›½ä»£ç† |
| æ–°åŠ å¡ | `https://dashscope-intl.aliyuncs.com/compatible-mode/v1` | å›½é™…é€šç”¨ |

---

## 5. ç¯å¢ƒé…ç½®ï¼ˆç»§æ‰¿ v7ï¼Œæ— å˜æ›´ï¼‰

### .env.localï¼ˆå®Œæ•´ç‰ˆï¼‰
```
# Block Explorer API Keys
NEXT_PUBLIC_ETHERSCAN_API_KEY=ZEPMPHXT1XUGQMT3HXEU9DE49TD21FG85Q
NEXT_PUBLIC_ARBISCAN_API_KEY=
NEXT_PUBLIC_BSCSCAN_API_KEY=
NEXT_PUBLIC_BASESCAN_API_KEY=
NEXT_PUBLIC_OPTIMISM_API_KEY=
NEXT_PUBLIC_POLYGONSCAN_API_KEY=

# æœ¬åœ°ä»£ç†
PROXY_URL=http://127.0.0.1:10808

# Slither Docker
NEXT_PUBLIC_SLITHER_SERVICE_URL=http://localhost:8545
SLITHER_SERVICE_URL=http://localhost:8545

# Agent API é‰´æƒ
AGENT_API_KEY=chainvine-agent-test-key

# LLM Providersï¼ˆæœåŠ¡å™¨ç«¯ï¼‰
OPENAI_API_KEY=<ä½ çš„OpenAI Key>
OPENAI_BASE_URL=https://api.openai.com/v1

# é€šä¹‰åƒé—® DashScope â€” å¼—å‰å°¼äºšç«¯ç‚¹ï¼ˆç¾å›½ä»£ç†é€‚ç”¨ï¼‰
DASHSCOPE_API_KEY=<å¼—å‰å°¼äºšKey>
DASHSCOPE_BASE_URL=https://dashscope-us.aliyuncs.com/compatible-mode/v1

# Neversight ç½‘å…³
NEVERSIGHT_API_KEY=<ä½ çš„Neversight Key>
```

### å¯åŠ¨æ­¥éª¤ï¼ˆä¸ v7 ç›¸åŒï¼‰
```bash
# 1. å¯åŠ¨ Slither Docker
docker-compose up -d

# 2. å¯åŠ¨ Dev Serverï¼ˆä¿®æ”¹ .env.local åé¡»åˆ  .next ç¼“å­˜ï¼‰
rmdir /s /q .next
bun dev   # æˆ– npx next dev
# â†’ http://localhost:3000

# 3. æµè§ˆå™¨ç«¯ï¼šè¿›å…¥ /auditï¼Œåœ¨ AI Configuration ä¸­é€‰æ‹© Provider + Model
# 4. Agent APIï¼šé€šè¿‡ curl/è„šæœ¬è°ƒç”¨ POST /api/agent/audit
```

---

## 6. æµ‹è¯•çŠ¶æ€ï¼ˆv8 æ›´æ–°ï¼‰

### 6.1 å·²é€šè¿‡çš„æµ‹è¯•

ç»§æ‰¿ v7 æ‰€æœ‰æµ‹è¯•ï¼Œæ–°å¢ï¼š

| æµ‹è¯•é¡¹ | ç»“æœ |
|--------|------|
| **v8 prompts.ts ç¼–è¯‘** | âœ… æ—  TypeScript é”™è¯¯ |
| **v8 Monaco ä¸»é¢˜è”åŠ¨ç¼–è¯‘** | âœ… `useTheme` + `useMemo` æ­£å¸¸å·¥ä½œ |
| **v8 analyze é¡µé¢ç¼–è¯‘** | âœ… `ChainVineLogo` å¯¼å…¥ + JSX æ”¹åŠ¨æ— æŠ¥é”™ |
| **v8 source é¡µé¢ç¼–è¯‘** | âœ… èƒŒæ™¯è‰² + è£…é¥°å…ƒç´ æ”¹åŠ¨æ— æŠ¥é”™ |
| **v8 USDT åŒå¼•æ“å®éªŒ** | âœ… DashScope qwen-flashï¼Œ~50s å®Œæˆï¼ŒèåˆæŠ¥å‘Šæ­£å¸¸ |
| **v8 Vault Slither å•å¼•æ“å®éªŒ** | âœ… 10+ æ£€æµ‹ç»“æœ |
| **v8 Vault AI å•å¼•æ“å®éªŒ** | âœ… å®Œæ•´ Markdown æŠ¥å‘Š |
| **å‰ç«¯ UI å¤š Provider åˆ‡æ¢** | âœ… ç”¨æˆ·ç¡®è®¤æ— é—®é¢˜ |
| **å‰ç«¯ StreamAI æµå¼å±•ç¤º** | âœ… ç”¨æˆ·ç¡®è®¤æ— é—®é¢˜ |
| **Neversight æµå¼æ¨¡å¼ï¼ˆæµè§ˆå™¨ç›´è¿ï¼‰** | âœ… ç”¨æˆ·ç¡®è®¤æ— é—®é¢˜ |

### 6.2 æœªæµ‹è¯•

| æµ‹è¯•é¡¹ | è¯´æ˜ |
|--------|------|
| OpenAI ç›´è¿ | ç”¨æˆ· OpenAI æ— ä½™é¢ï¼Œè·³è¿‡ |
| å¤§å‹åˆçº¦ï¼ˆ>2000 è¡Œï¼‰ | ä»…æµ‹äº† USDTï¼ˆ~500 è¡Œï¼‰ |
| Monaco ä¸»é¢˜è”åŠ¨ï¼ˆæµè§ˆå™¨å®é™…åˆ‡æ¢ï¼‰ | ä»£ç é€»è¾‘æ­£ç¡®ï¼Œéœ€å®é™…æ“ä½œéªŒè¯åˆ‡æ¢æ•ˆæœ |
| æ–° Prompt è¾“å‡ºè´¨é‡å¯¹æ¯” | æ–°æ—§æç¤ºè¯ A/B å¯¹æ¯”å°šæœªè¿›è¡Œ |

---

## 7. å·²çŸ¥é—®é¢˜ä¸é£é™©ï¼ˆv8 æ›´æ–°ï¼‰

| # | é—®é¢˜ | ä¸¥é‡åº¦ | çŠ¶æ€ | è¯´æ˜ |
|---|------|--------|------|------|
| 1 | DashScope å¼—å‰å°¼äºšæ¨¡å‹åˆ—è¡¨ä¸åŒ—äº¬ä¸åŒ | ä¸­ | å·²è§£å†³ | ä½¿ç”¨å¼—å‰å°¼äºšåŒºåŸŸå¯ç”¨æ¨¡å‹ |
| 2 | OpenAI æ— ä½™é¢ | ä½ | å·²çŸ¥ | ä»£ç å·²å®ç°ï¼Œç­‰ç”¨æˆ·å……å€¼ |
| 3 | Neversight API ä½™é¢ä½ | ä¸­ | å·²çŸ¥ | $5.4 ä½™é¢ï¼Œå»ºè®®ç”¨ gemini-3-flash æµ‹è¯• |
| 4 | ~~Monaco Editor ä¸»é¢˜æœªè”åŠ¨~~ | ~~ä½~~ | **v8 å·²è§£å†³** | `useTheme()` + `useMemo` åŠ¨æ€åˆ‡æ¢ |
| 5 | æ— å…¨å±€è¶…æ—¶ä¿æŠ¤ | ä¸­ | é—ç•™ v4 | AI åˆ†ææ— ç¡¬è¶…æ—¶é™åˆ¶ |
| 6 | ~~é¦–é¡µ UI å¾…é‡è®¾è®¡~~ | ~~ä¸­~~ | **v6 å·²å®Œæˆ** | â€” |
| 7 | ~~å‰ç«¯ StreamAI æœªéªŒè¯~~ | ~~ä½~~ | **v8 ç”¨æˆ·ç¡®è®¤é€šè¿‡** | â€” |
| 8 | ~~å®¡è®¡å­é¡µé¢è§†è§‰æœªç»Ÿä¸€~~ | ~~ä½~~ | **v8 å·²è§£å†³** | analyze + source é¡µé¢è§†è§‰ç»Ÿä¸€ |
| 9 | README æˆªå›¾ä¸ºæ—§ç‰ˆ | ä½ | é—ç•™ v7 | éœ€é‡æ–°æˆªå–é¦–é¡µå’Œå®¡è®¡é¡µæˆªå›¾ |
| 10 | **è®ºæ–‡æŸ¥é‡æœªå®Œæˆ** | ä¸­ | å¾…åš | éœ€ä½¿ç”¨ç»´æ™®/çŸ¥ç½‘æŸ¥é‡ï¼Œç›®æ ‡ <30% |
| 11 | **ç­”è¾© PPT æœªåˆ¶ä½œ** | ä¸­ | å¾…åš | åŸºäºè®ºæ–‡ç¬¬ä¸€ç« å’Œç¬¬äº”ç« æç‚¼ 15â€“20 é¡µ |
| 12 | **capture-screenshots.js æ®‹ç•™** | ä½ | æ¸…ç† | æˆªå›¾è„šæœ¬ä¸ºä¸´æ—¶æ–‡ä»¶ï¼Œåº”åˆ é™¤æˆ–åŠ å…¥ .gitignore |
| 13 | **prompts.ts å‰¯æœ¬æ®‹ç•™** | ä½ | æ¸…ç† | `src/services/audit/prompts - å‰¯æœ¬.ts` åº”åˆ é™¤ |

---

## 8. ç”¨æˆ·å†³ç­–è®°å½•ï¼ˆv8 æ›´æ–°ï¼‰

ç»§æ‰¿ v7 æ‰€æœ‰å†³ç­–ï¼Œæ–°å¢ï¼š

| å†³ç­– | å†…å®¹ |
|------|------|
| AI æç¤ºè¯ç­–ç•¥ | é‡‡ç”¨ Chain-of-Thought + ä¸¥æ ¼è¾“å‡ºæ¨¡å¼ + æ¼æ´é¢‘ç‡æ’åºï¼Œè€Œéè‡ªç”±æ ¼å¼ç”Ÿæˆ |
| æç¤ºè¯äº’è¡¥è§’è‰² | æ˜ç¡® AI èšç„¦è¯­ä¹‰/é€»è¾‘æ¼æ´ï¼ˆSlither éš¾ä»¥æ£€æµ‹çš„ï¼‰ï¼Œé¿å…é‡å¤ Slither çš„å·¥ä½œ |
| Monaco ä¸»é¢˜æ–¹æ¡ˆ | ä½¿ç”¨ `next-themes` çš„ `resolvedTheme` è€Œéè‡ªå»ºä¸»é¢˜çŠ¶æ€ï¼Œä¸å…¨å±€ä¸»é¢˜ç³»ç»Ÿä¸€è‡´ |
| è®ºæ–‡å®éªŒè®¾è®¡ | 3 ç»„å¯¹æ¯”ï¼šåŒå¼•æ“ vs Slither-only vs AI-onlyï¼Œè®ºè¯äº’è¡¥æ€§ |
| è®ºæ–‡æ•°æ®é‡‡é›† | ä½¿ç”¨å®é™…è¿è¡Œçš„ USDT å’Œ Vault åˆçº¦æ•°æ®ï¼Œè€Œéæ¨¡æ‹Ÿæ•°æ® |
| ç”¨æˆ·æ‰‹å†Œå®šä½ | é¢å‘ç­”è¾©è¯„å®¡ + å¼€æºç¤¾åŒºåŒé‡å—ä¼—ï¼ŒåŒ…å«å­¦æœ¯å‚è€ƒæ–‡çŒ® |
| Super Prompt æ›´å | ä»£ç å¯¼å‡ºåä¿æŒ `SUPPER_PROMPT`ï¼ˆå‘åå…¼å®¹ï¼‰ï¼Œæ–‡æ¡£ä¸­ä½¿ç”¨ "Super Prompt" |

---

## 9. ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

### 9.1 å¿…åšï¼šç­”è¾©å‡†å¤‡ï¼ˆæˆªæ­¢ 3/25ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„è®¡å·¥æ—¶ | çŠ¶æ€ |
|------|--------|---------|------|
| è®ºæ–‡æŸ¥é‡ï¼ˆç»´æ™®/çŸ¥ç½‘ï¼‰ | P0 | 0.5 å¤© | å¾…åš |
| æŸ¥é‡åä¿®æ”¹é™é‡ | P0 | 1-2 å¤© | è§†æŸ¥é‡ç»“æœ |
| ç­”è¾© PPTï¼ˆ15-20 é¡µï¼‰ | P0 | 1 å¤© | å¾…åš |
| README æˆªå›¾æ›´æ–° | P1 | 0.5 å°æ—¶ | å¾…åš |
| è®ºæ–‡ Word æ’ç‰ˆï¼ˆæŒ‰å­¦æ ¡è§„èŒƒï¼‰ | P0 | 1 å¤© | å¾…åš |

### 9.2 æ¨èï¼šä»£ç æ¸…ç†

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| åˆ é™¤ `capture-screenshots.js` | ä¸´æ—¶æˆªå›¾è„šæœ¬ |
| åˆ é™¤ `prompts - å‰¯æœ¬.ts` | å¤‡ä»½æ–‡ä»¶æ®‹ç•™ |
| æ‰“ Release v1.0.0 | ç­”è¾©æäº¤ç‰ˆæœ¬é”šç‚¹ |

### 9.3 å¯é€‰ï¼šåŠŸèƒ½å¢å¼º

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| æ–°æ—§ Prompt A/B å¯¹æ¯”æµ‹è¯• | é‡åŒ–æ–°æç¤ºè¯çš„æ”¹è¿›æ•ˆæœ |
| Monaco è‡ªå®šä¹‰ä¸»é¢˜ | å®šä¹‰ ChainVine å“ç‰Œè‰²ç¼–è¾‘å™¨ä¸»é¢˜ |
| å…¨å±€è¶…æ—¶ä¿æŠ¤ | AI åˆ†ææ·»åŠ ç¡¬è¶…æ—¶ï¼ˆå¦‚ 5 åˆ†é’Ÿï¼‰ |

### 9.4 é”ç‰ˆå»ºè®®

- å»ºè®®æœ€æ™š **3 æœˆä¸Šæ—¬**ï¼ˆ3/8â€“3/10ï¼‰å®ŒæˆåŠŸèƒ½+UIï¼Œä¹‹ååªæ”¹æ–‡æ¡£å’Œæå° bugfix
- æ‰“ Release v1.0.0ï¼Œä½œä¸ºæ¯•è®¾æäº¤çš„ç‰ˆæœ¬é”šç‚¹

---

## 10. å…³é”®æ–‡ä»¶é€ŸæŸ¥ï¼ˆv8 æ›´æ–°ï¼‰

| æ–‡ä»¶ | ç”¨é€” | è¡Œæ•° | v8 çŠ¶æ€ |
|------|------|------|---------|
| `src/services/audit/prompts.ts` | AI æç¤ºè¯ | ~161 | ğŸ”„ **v8 ç§‘å­¦åŒ–é‡æ„** |
| `src/app/(with-header)/audit/page.tsx` | ä¸»å®¡è®¡é¡µé¢ | ~1322 | ğŸ”„ **v8 Monacoä¸»é¢˜è”åŠ¨** |
| `src/app/(with-header)/audit/analyze/page.tsx` | åˆ†æç»“æœé¡µ | ~166 | ğŸ”„ **v8 è§†è§‰ç»Ÿä¸€** |
| `src/app/(fullscreen)/audit/source/page.tsx` | æºç æŸ¥çœ‹é¡µ | ~260 | ğŸ”„ **v8 è§†è§‰ç»Ÿä¸€** |
| `docs/USAGE.md` | ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ | ~452 | ğŸ”„ **v8 å…¨é¢é‡å†™** |
| `README.md` | é¡¹ç›®è¯´æ˜ | ~219 | ğŸ”„ **v8 å¢å¼º** |
| `docs/æ¯•ä¸šè®ºæ–‡/è®ºæ–‡æ­£æ–‡.md` | æ¯•ä¸šè®ºæ–‡ä¸»ä½“ | ~12,000 å­— | ğŸ†• **v8 æ–°å»º** |
| `src/app/(with-header)/page.tsx` | é¦–é¡µ | ~265 | ğŸ”„ é“¾æ¥è¿ç§» |
| `docs/STAGE_SUMMARY-v6.md` | v6 é˜¶æ®µæ–‡æ¡£ | ~476 | ğŸ”„ é“¾æ¥è¿ç§» |
| `src/types/ai.ts` | AI ç±»å‹å®šä¹‰ | ~15 | æœªä¿®æ”¹ |
| `src/utils/ai.ts` | AI å·¥å…·ï¼ˆProvider è·¯ç”±+SSE è§£æ+æµå¼ï¼‰ | ~220 | æœªä¿®æ”¹ |
| `src/utils/dashscope-models.ts` | DashScope å¼—å‰å°¼äºšæ¨¡å‹å®šä¹‰ | ~45 | æœªä¿®æ”¹ |
| `src/app/api/ai-analyze/route.ts` | å‰ç«¯ AI åˆ†æä»£ç†è·¯ç”± | ~100 | æœªä¿®æ”¹ |
| `src/components/audit/AIConfigModal.tsx` | AI é…ç½®å¼¹çª—ï¼ˆ3 Providerï¼‰ | ~250 | æœªä¿®æ”¹ |
| `src/services/audit/contractAnalyzer.ts` | æµè§ˆå™¨ç«¯ AI åˆ†æå™¨ | ~211 | æœªä¿®æ”¹ |
| `src/services/audit/dualEngineAnalyzer.ts` | æµè§ˆå™¨ç«¯åŒå¼•æ“ç¼–æ’ | ~140 | æœªä¿®æ”¹ |
| `src/services/audit/dualEngineAnalyzerServer.ts` | æœåŠ¡å™¨ç«¯åŒå¼•æ“ç¼–æ’ | ~287 | æœªä¿®æ”¹ |
| `src/components/audit/SourcePreview.tsx` | æºç é¢„è§ˆ+åˆ†æ+StreamAI | ~941 | æœªä¿®æ”¹ |
| `src/services/llm/types.ts` | LLM Provider ç±»å‹å®šä¹‰ | ~39 | æœªä¿®æ”¹ |
| `src/services/llm/client.ts` | ç»Ÿä¸€ LLM è°ƒç”¨ï¼ˆåŒæ­¥+æµå¼ï¼‰ | ~229 | æœªä¿®æ”¹ |
| `src/services/audit/contractAnalyzerServer.ts` | æœåŠ¡å™¨ç«¯ AI åˆ†æå™¨ | ~191 | æœªä¿®æ”¹ |
| `src/app/api/agent/audit/route.ts` | Agent API è·¯ç”± | ~187 | æœªä¿®æ”¹ |
| `docs/openapi-agent-audit.yaml` | OpenAPI 3.0 æ–‡æ¡£ | ~105 | æœªä¿®æ”¹ |
| `src/services/audit/findingFusion.ts` | èåˆç®—æ³• | ~391 | æœªä¿®æ”¹ |
| `src/services/audit/slitherAnalyzer.ts` | Slither é€šä¿¡ | ~271 | æœªä¿®æ”¹ |
| `src/utils/neversight-models.ts` | Neversight æ¨¡å‹å®šä¹‰ | ~46 | æœªä¿®æ”¹ |
| `src/utils/openai-models.ts` | OpenAI æ¨¡å‹å®šä¹‰ | ~89 | æœªä¿®æ”¹ |

---

## 11. Agent API è°ƒç”¨ç¤ºä¾‹ï¼ˆç»§æ‰¿ v7ï¼Œæ— å˜æ›´ï¼‰

### åŒæ­¥æ¨¡å¼ï¼ˆPowerShellï¼‰â€” DashScope å¼—å‰å°¼äºš
```powershell
$headers = @{
  "Content-Type" = "application/json"
  "x-agent-api-key" = "chainvine-agent-test-key"
}
$body = '{"address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","chain":"ethereum","provider":"dashscope","model":"qwen-plus","language":"chinese-simplified","superPrompt":false}'
$r = Invoke-WebRequest -Method POST -Uri "http://localhost:3000/api/agent/audit" -Headers $headers -Body $body -ContentType "application/json" -TimeoutSec 300
$r.Content | ConvertFrom-Json
```

### æµå¼æ¨¡å¼ï¼ˆPowerShellï¼‰â€” DashScope å¼—å‰å°¼äºš
```powershell
$body = '{"address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","chain":"ethereum","provider":"dashscope","model":"qwen-flash","stream":true}'
$headers = @{ "Content-Type" = "application/json"; "x-agent-api-key" = "chainvine-agent-test-key" }
$r = Invoke-WebRequest -Method POST -Uri "http://localhost:3000/api/agent/audit" -Headers $headers -Body $body -ContentType "application/json" -TimeoutSec 300
# SSE events: slither(1) + chunk(1000+) + fusion(1) + done(1)
```

---

## 12. DashScope å¼—å‰å°¼äºšå¯ç”¨æ¨¡å‹å‚è€ƒï¼ˆç»§æ‰¿ v7ï¼‰

| æ¨¡å‹ ID | æ¨èåº¦ | è¯´æ˜ |
|---------|--------|------|
| `qwen3-coder-plus` | â­â­â­ | ä»£ç ä¸“ç²¾ï¼Œæœ€é€‚åˆ Solidity å®¡è®¡ |
| `qwen3-max` | â­â­â­ | æ——èˆ°æ¨¡å‹ |
| `qwen-plus` | â­â­ | é€šç”¨å¹³è¡¡ï¼ˆå·²æµ‹è¯•é€šè¿‡ï¼š228s/USDTï¼‰ |
| `qwen-flash` | â­â­ | å¿«é€Ÿé«˜æ•ˆï¼ˆå·²æµ‹è¯•é€šè¿‡ï¼š50s/USDTï¼‰ |
| `qwen3-coder-flash` | â­â­ | ä»£ç +å¿«é€Ÿ |
| `qwen3-32b` | â­ | å¼€æº 32B å‚æ•° |

---

## 13. å¯¹è¯è§’è‰²è®¾å®š

- **AIè§’è‰²**: åŒºå—é“¾ã€é‡‘èã€AIé¢†åŸŸå…¨çƒé¡¶çº§ä¸“å®¶
- **ç”¨æˆ·è§’è‰²**: åŒä¸Šï¼Œæœ¬ç§‘æ¯•ä¸šè®¾è®¡å­¦ç”Ÿ
- **å›ç­”è¦æ±‚**: å¿…é¡»æå‡ºç§‘å­¦å‚è€ƒèµ„æ–™ï¼Œå¼•ç”¨å¤„è§£é‡Šï¼›ä¸­æ–‡å›ç­”
- **é¡¹ç›®æ€§è´¨**: æˆéƒ½ä¿¡æ¯å·¥ç¨‹å¤§å­¦ Â· ä¿¡æ¯å®‰å…¨ä¸“ä¸š Â· æœ¬ç§‘æ¯•ä¸šè®¾è®¡

---

## 14. ç‰ˆæœ¬å˜æ›´æ—¥å¿—

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¸»è¦å˜æ›´ |
|------|------|---------|
| v1 | 2026-02-09 | åˆå§‹æ–‡æ¡£ï¼ŒP0åŠŸèƒ½å®Œæˆ |
| v2 | 2026-02-10 | Fix 1-4 + Addressæ¨¡å¼è®¡æ—¶å™¨ |
| v3 | 2026-02-11 | ç»¿è‰²è—¤è”“ä¸»é¢˜æ”¹é€  + è¯­ä¹‰è‰² |
| v4 | 2026-02-13 | ä»“åº“è¿ç§» + SVG Logo + Route Groups + å…¨å±€è¯­ä¹‰è‰²æ¸…ç† + UIä¿®å¤ |
| v5 | 2026-02-14 | Agent API + LLM Provider æŠ½è±¡å±‚ + StreamAI(Agent) + OpenAPI + æœåŠ¡å™¨ç«¯åˆ†æå™¨ |
| v6 | 2026-02-16 | æµå¼ Bug ä¿®å¤(TextEncoder) + DashScope å¼—å‰å°¼äºšä¿®å¤ + å‰ç«¯å¤š Provider + å‰ç«¯ StreamAI + /api/ai-analyze ä»£ç†è·¯ç”± |
| v7 | 2026-02-16 | å®¡è®¡é¡µ UI ç»Ÿä¸€(Hero Section å“ç‰ŒåŒ–) + ä»“åº“é“¾æ¥è¿ç§»(â†’ chainvine-main) + README å…¨é¢é‡å†™(173 è¡Œ) |
| **v8** | **2026-02-17** | **AIæç¤ºè¯ç§‘å­¦åŒ–é‡æ„** + **Monacoä¸»é¢˜è”åŠ¨** + **å®¡è®¡å­é¡µé¢è§†è§‰ç»Ÿä¸€** + **ç”¨æˆ·æ‰‹å†Œå…¨é¢é‡å†™**(452è¡Œ) + **READMEå¢å¼º**(219è¡Œ) + **æ¯•ä¸šè®ºæ–‡æ¡†æ¶+å®éªŒæ•°æ®** |

---

## 15. å‚è€ƒæ–‡çŒ®ï¼ˆv8 å¼•ç”¨ï¼‰

ç»§æ‰¿ v7 æ‰€æœ‰å‚è€ƒæ–‡çŒ®ï¼Œæ–°å¢/é‡ç‚¹æ ‡æ³¨ï¼š

| ç¼–å· | å¼•ç”¨ | ç”¨é€” |
|------|------|------|
| [1] | Wei et al., "Chain-of-Thought Prompting Elicits Reasoning in Large Language Models", NeurIPS 2022 | **v8 AI æç¤ºè¯ä¼˜åŒ–**ï¼šChain-of-Thought æ¨ç†åè®® |
| [2] | Durieux et al., "Empirical Review of Automated Analysis Tools on 47,587 Ethereum Smart Contracts", ACM CCS 2020 | **v8 AI æç¤ºè¯ä¼˜åŒ–**ï¼šæ¼æ´é¢‘ç‡æ’åºä¾æ® |
| [3] | Feist et al., "Slither: A Static Analysis Framework for Smart Contracts", WETSEB 2019 | Slither æ ¸å¿ƒè®ºæ–‡ |
| [4] | SWC Registry â€” https://swcregistry.io/ | **v8 AI æç¤ºè¯ä¼˜åŒ–**ï¼šæ¼æ´åˆ†ç±»æ ‡å‡†ç¼–å· |
| [5] | Dietterich, T.G., "Ensemble Methods in Machine Learning", MCS 2000 | åŒå¼•æ“èåˆç®—æ³•ç†è®ºåŸºç¡€ |
| [6] | Zhou et al., "Large Language Models Are Human-Level Prompt Engineers", ICLR 2023 | **v8 Super Prompt è®¾è®¡** |
| [7] | Nielsen, J., "Response Time Limits", Nielsen Norman Group | æµå¼è¾“å‡º UX ç†è®º |
| [8] | Nielsen, J., "10 Usability Heuristics for User Interface Design", NN/g 1994 (updated 2024) | **v8 å®¡è®¡å­é¡µé¢è§†è§‰ç»Ÿä¸€**è®¾è®¡ä¾æ® |
| [9] | David et al., "Do you still need a manual smart contract audit?", arXiv 2023 | LLM åˆçº¦å®¡è®¡å¯è¡Œæ€§ |
| [10] | Chen et al., "Large Language Models for Blockchain Security: A Systematic Literature Review", arXiv 2024 | LLM+åŒºå—é“¾å®‰å…¨ç»¼è¿° |
| [11] | WHATWG Fetch Standard, "Response Body" | SSE æµå¼è¾“å‡ºæ ‡å‡†å®ç° |
| [12] | Yao et al., "ReAct: Synergizing Reasoning and Acting in Language Models", ICLR 2023 | Agent API è®¾è®¡ç†è®º |
| [13] | Alibaba Cloud Model Studio, "DashScope API Reference" | DashScope å¤šåŒºåŸŸç«¯ç‚¹ |

---

*æ–‡æ¡£ç»“æŸã€‚v8 æ ¸å¿ƒï¼šAIæç¤ºè¯ç§‘å­¦åŒ–é‡æ„ + Monacoä¸»é¢˜è”åŠ¨ + å®¡è®¡å­é¡µé¢è§†è§‰ç»Ÿä¸€ + ç”¨æˆ·æ‰‹å†Œé‡å†™ + æ¯•ä¸šè®ºæ–‡æ’°å†™ã€‚ä¸‹ä¸€æ­¥ï¼šè®ºæ–‡æŸ¥é‡ + ç­”è¾©PPT + é”ç‰ˆå‘å¸ƒã€‚*
