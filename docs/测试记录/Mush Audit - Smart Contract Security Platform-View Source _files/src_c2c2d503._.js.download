(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/src/utils/constants.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// Add ChainConfig interface definition
__turbopack_context__.s([
    "CHAINS",
    ()=>CHAINS,
    "KNOWN_CONTRACTS",
    ()=>KNOWN_CONTRACTS,
    "WEBSITE_URL",
    ()=>WEBSITE_URL
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
const CHAINS = {
    ethereum: {
        id: "1",
        name: "ethereum",
        displayName: "Ethereum Mainnet",
        nativeCurrency: {
            name: "Ether",
            symbol: "ETH",
            decimals: 18
        },
        rpcUrls: {
            default: "https://eth.llamarpc.com",
            fallbacks: [
                "https://ethereum.publicnode.com",
                "https://rpc.ankr.com/eth",
                "https://cloudflare-eth.com"
            ]
        },
        blockExplorers: {
            default: {
                name: "Etherscan",
                url: "https://etherscan.io",
                apiUrl: "https://api.etherscan.io/api",
                apiKey: ("TURBOPACK compile-time value", "ZEPMPHXT1XUGQMT3HXEU9DE49TD21FG85Q")
            }
        }
    },
    arbitrum: {
        id: "42161",
        name: "arbitrum",
        displayName: "Arbitrum One",
        nativeCurrency: {
            name: "Ether",
            symbol: "ETH",
            decimals: 18
        },
        rpcUrls: {
            default: "https://arb1.arbitrum.io/rpc",
            fallbacks: [
                "https://arbitrum.publicnode.com",
                "https://arbitrum-one.publicnode.com",
                "https://arbitrum.meowrpc.com"
            ]
        },
        blockExplorers: {
            default: {
                name: "Arbiscan",
                url: "https://arbiscan.io",
                apiUrl: "https://api.arbiscan.io/api",
                apiKey: ("TURBOPACK compile-time value", "")
            }
        }
    },
    bsc: {
        id: "56",
        name: "bsc",
        displayName: "BNB Smart Chain",
        nativeCurrency: {
            name: "BNB",
            symbol: "BNB",
            decimals: 18
        },
        rpcUrls: {
            default: "https://bsc-dataseed.binance.org",
            fallbacks: [
                "https://bsc-dataseed1.defibit.io",
                "https://bsc-dataseed1.ninicoin.io",
                "https://bsc.publicnode.com"
            ]
        },
        blockExplorers: {
            default: {
                name: "BscScan",
                url: "https://bscscan.com",
                apiUrl: "https://api.bscscan.com/api",
                apiKey: ("TURBOPACK compile-time value", "")
            }
        }
    },
    base: {
        id: "8453",
        name: "base",
        displayName: "Base",
        nativeCurrency: {
            name: "Ethereum",
            symbol: "ETH",
            decimals: 18
        },
        rpcUrls: {
            default: "https://mainnet.base.org",
            fallbacks: [
                "https://base.blockpi.network/v1/rpc/public",
                "https://base.meowrpc.com",
                "https://base.publicnode.com"
            ]
        },
        blockExplorers: {
            default: {
                name: "Basescan",
                url: "https://basescan.org",
                apiUrl: "https://api.basescan.org/api",
                apiKey: ("TURBOPACK compile-time value", "")
            }
        }
    },
    optimism: {
        id: "10",
        name: "optimism",
        displayName: "Optimism",
        nativeCurrency: {
            name: "Ether",
            symbol: "ETH",
            decimals: 18
        },
        rpcUrls: {
            default: "https://mainnet.optimism.io",
            fallbacks: [
                "https://optimism.publicnode.com",
                "https://optimism.meowrpc.com",
                "https://opt-mainnet.g.alchemy.com/v2/demo"
            ]
        },
        blockExplorers: {
            default: {
                name: "Optimistic Etherscan",
                url: "https://optimistic.etherscan.io",
                apiUrl: "https://api-optimistic.etherscan.io/api",
                apiKey: ("TURBOPACK compile-time value", "")
            }
        }
    },
    polygon: {
        id: "137",
        name: "polygon",
        displayName: "Polygon",
        nativeCurrency: {
            name: "POL",
            symbol: "POL",
            decimals: 18
        },
        rpcUrls: {
            default: "https://polygon-rpc.com",
            fallbacks: [
                "https://polygon.llamarpc.com",
                "https://polygon.publicnode.com",
                "https://polygon.meowrpc.com"
            ]
        },
        blockExplorers: {
            default: {
                name: "PolygonScan",
                url: "https://polygonscan.com",
                apiUrl: "https://api.polygonscan.com/api",
                apiKey: ("TURBOPACK compile-time value", "")
            }
        }
    },
    avalanche: {
        id: "43114",
        name: "avalanche",
        displayName: "Avalanche C-Chain",
        nativeCurrency: {
            name: "AVAX",
            symbol: "AVAX",
            decimals: 18
        },
        rpcUrls: {
            default: "https://api.avax.network/ext/bc/C/rpc",
            fallbacks: [
                "https://avalanche.public-rpc.com",
                "https://avalanche.api.onfinality.io/public",
                "https://avalanche.publicnode.com"
            ]
        },
        blockExplorers: {
            default: {
                name: "SnowTrace",
                url: "https://snowtrace.io",
                apiUrl: "https://api.snowtrace.io/api"
            }
        }
    },
    aurora: {
        id: "1313161554",
        name: "aurora",
        displayName: "Aurora",
        nativeCurrency: {
            name: "Ethereum",
            symbol: "ETH",
            decimals: 18
        },
        rpcUrls: {
            default: "https://mainnet.aurora.dev",
            fallbacks: [
                "https://aurora.drpc.org",
                "https://endpoints.omniatech.io/v1/aurora/mainnet/public",
                "https://1rpc.io/aurora"
            ]
        },
        blockExplorers: {
            default: {
                name: "Aurora Explorer",
                url: "https://explorer.aurora.dev",
                apiUrl: "https://explorer.aurora.dev/api"
            }
        }
    }
};
const KNOWN_CONTRACTS = {
    // Uniswap Protocol Contracts
    "0x000000000022d473030f116ddee9f6b43ac78ba3": {
        labels: [
            "Permit2"
        ],
        projectName: "Uniswap Protocol"
    },
    "0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45": {
        labels: [
            "Universal Router"
        ],
        projectName: "Uniswap Protocol"
    },
    "0xef1c6e67703c7bd7107eed8303fbe6ec2554bf6b": {
        labels: [
            "Universal Router"
        ],
        projectName: "Uniswap Protocol"
    },
    "0x3fc91a3afd70395cd496c647d5a6cc9d4b2b7fad": {
        labels: [
            "Universal Router 2"
        ],
        projectName: "Uniswap Protocol"
    },
    "0x1f98431c8ad98523631ae4a59f267346ea31f984": {
        labels: [
            "Factory"
        ],
        projectName: "Uniswap V3"
    },
    "0xe592427a0aece92de3edee1f18e0157c05861564": {
        labels: [
            "Router"
        ],
        projectName: "Uniswap V3"
    },
    // OpenSea Contracts
    "0x00000000006c3852cbef3e08e8df289169ede581": {
        labels: [
            "Seaport 1.1"
        ],
        projectName: "OpenSea"
    },
    "0x00000000000006c7676171937c444f6bde3d6282": {
        labels: [
            "Seaport 1.5"
        ],
        projectName: "OpenSea"
    },
    // Chainlink Contracts
    "0x47fb2585d2c56fe188d0e6ec628a38b74fceeedf": {
        labels: [
            "Price Feed"
        ],
        projectName: "Chainlink"
    },
    "0xc18f85a6dd3bcd0516a1ca08d3b1f0a4e191c2c2": {
        labels: [
            "Validator"
        ],
        projectName: "Chainlink"
    },
    // AAVE Contracts
    "0x87870bca3f3fd6335c3f4ce8392d69350b4fa4e2": {
        labels: [
            "Pool V3"
        ],
        projectName: "AAVE"
    },
    "0x2f39d218133afab8f2b819b1066c7e434ad94e9e": {
        labels: [
            "Pool Proxy"
        ],
        projectName: "AAVE"
    },
    // Lido Contracts
    "0xae7ab96520de3a18e5e111b5eaab095312d7fe84": {
        labels: [
            "stETH"
        ],
        projectName: "Lido"
    },
    "0x1982b2f5814301d4e9a8b0201555376e62f82428": {
        labels: [
            "Staking Router"
        ],
        projectName: "Lido"
    },
    // Compound Contracts
    "0xc0da01a04c3f3e0be433606045bb7017a7323e38": {
        labels: [
            "Timelock"
        ],
        projectName: "Compound"
    },
    "0x3d9819210a31b4961b30ef54be2aed79b9c9cd3b": {
        labels: [
            "Comptroller"
        ],
        projectName: "Compound"
    },
    // 1inch Contracts
    "0x1111111254eeb25477b68fb85ed929f73a960582": {
        labels: [
            "Router"
        ],
        projectName: "1inch"
    },
    "0x1111111254760f7ab3f16433eea9304126dcd199": {
        labels: [
            "Aggregation Router V5"
        ],
        projectName: "1inch"
    },
    // Curve Contracts
    "0xd51a44d3fae010294c616388b506acda1bfaae46": {
        labels: [
            "Tricrypto2 Pool"
        ],
        projectName: "Curve"
    },
    "0xbabe61887f1de2713c6f97e567623453d3c79f67": {
        labels: [
            "Factory"
        ],
        projectName: "Curve"
    },
    // Balancer Contracts
    "0xba12222222228d8ba445958a75a0704d566bf2c8": {
        labels: [
            "Vault"
        ],
        projectName: "Balancer"
    },
    "0x4e7bbd911cf1efa442bc1b2e9ea01ffe785412ec": {
        labels: [
            "Gauge Factory"
        ],
        projectName: "Balancer"
    },
    // ENS Contracts
    "0x00000000000c2e074ec69a0dfb2997ba6c7d2e1e": {
        labels: [
            "Registry"
        ],
        projectName: "ENS"
    },
    "0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85": {
        labels: [
            "Base Registrar"
        ],
        projectName: "ENS"
    },
    // orbitchain
    "0x1bf68a9d1eaee7826b3593c20a0ca93293cb489a": {
        labels: [
            "ETH Vault"
        ],
        projectName: "OrbitChain"
    }
};
const WEBSITE_URL = "mush-audit.vercel.app";
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/readme.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "formatFileTree",
    ()=>formatFileTree,
    "generateReadme",
    ()=>generateReadme
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/constants.ts [app-client] (ecmascript)");
;
// Get chain display name
function getChainDisplayName(chainId) {
    const chain = Object.values(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"]).find((c)=>c.id === chainId);
    return chain?.displayName || chainId;
}
const formatFileTree = (files)=>{
    // First filter out .md files
    const filteredFiles = files.filter((file)=>!file.endsWith(".md"));
    // Build tree structure
    const tree = {};
    // Build tree structure
    filteredFiles.forEach((path)=>{
        const parts = path.split("/");
        let current = tree;
        parts.forEach((part, i)=>{
            if (i === parts.length - 1) {
                current[part] = null;
            } else {
                current[part] = current[part] || {};
                current = current[part];
            }
        });
    });
    // Recursively generate tree string
    const printTree = (node, prefix = "", isLast = true)=>{
        let result = "";
        const entries = Object.entries(node);
        entries.forEach(([key, value], index)=>{
            const isLastEntry = index === entries.length - 1;
            const linePrefix = prefix + (isLast ? "└── " : "├── ");
            const nextPrefix = prefix + (isLast ? "    " : "│   ");
            result += linePrefix + key + "\n";
            if (value !== null) {
                result += printTree(value, nextPrefix, isLastEntry);
            }
        });
        return result;
    };
    return printTree(tree);
};
const generateReadme = ({ files, tokenName, proxyInfo, implementationInfo, implementationAddress })=>{
    // Check if it's a proxy contract
    const isProxy = files.some((f)=>f.path.startsWith("proxy/")) && files.some((f)=>f.path.startsWith("implementation/"));
    let readme = "";
    if (isProxy) {
        readme = `# ${tokenName || implementationInfo?.contractName || proxyInfo.contractName}

## Proxy Contract Information
- **Contract Name:** ${proxyInfo.contractName}
- **Compiler Version:** ${proxyInfo.compiler}
- **Optimization Enabled:** ${proxyInfo.optimization ? `Yes with ${proxyInfo.runs} runs` : "No"}
- **Contract Address:** ${proxyInfo.address || "Unknown"}
- **EVM Version:** ${proxyInfo.evmVersion || "default"}
${proxyInfo.chainId ? `- **Chain:** ${getChainDisplayName(proxyInfo.chainId)}` : ""}
${proxyInfo.creator ? `- **Creator:** ${proxyInfo.creator}` : ""}
${proxyInfo.creationTxHash ? `- **Creation Transaction:** ${proxyInfo.creationTxHash}` : ""}

## Implementation Contract Information
- **Contract Name:** ${implementationInfo?.contractName || "Unknown"}
- **Compiler Version:** ${implementationInfo?.compiler || "Unknown"}
- **Optimization Enabled:** ${implementationInfo?.optimization ? `Yes with ${implementationInfo.runs} runs` : "No"}
- **Contract Address:** ${implementationAddress || "Unknown"}
- **EVM Version:** ${implementationInfo?.evmVersion || "default"}
${proxyInfo.chainId ? `- **Chain:** ${getChainDisplayName(proxyInfo.chainId)}` : ""}
${implementationInfo?.creator ? `- **Creator:** ${implementationInfo.creator}` : ""}
${implementationInfo?.creationTxHash ? `- **Creation Transaction:** ${implementationInfo.creationTxHash}` : ""}`;
    } else {
        readme = `# ${tokenName || proxyInfo.contractName}

## Contract Information
- **Contract Name:** ${proxyInfo.contractName}
- **Compiler Version:** ${proxyInfo.compiler}
- **Optimization Enabled:** ${proxyInfo.optimization ? `Yes with ${proxyInfo.runs} runs` : "No"}
- **Contract Address:** ${proxyInfo.address || "Unknown"}
- **EVM Version:** ${proxyInfo.evmVersion || "default"}
${proxyInfo.chainId ? `- **Chain:** ${getChainDisplayName(proxyInfo.chainId)}` : ""}
${proxyInfo.creator ? `- **Creator:** ${proxyInfo.creator}` : ""}
${proxyInfo.creationTxHash ? `- **Creation Transaction:** ${proxyInfo.creationTxHash}` : ""}`;
    }
    // Add file structure section
    return `${readme}

## Source Code Structure
\`\`\`
${formatFileTree(files.map((f)=>f.path))}
\`\`\``;
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/config.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "formatConfig",
    ()=>formatConfig,
    "generateConfig",
    ()=>generateConfig
]);
function generateConfig({ contractName, compiler, optimization, runs, evmVersion, creationCode, deployedBytecode }) {
    return {
        contractName,
        compiler,
        optimization,
        runs,
        evmVersion: evmVersion || 'default',
        bytecode: {
            creationCode: creationCode || '',
            deployedBytecode: deployedBytecode || ''
        }
    };
}
function formatConfig(config) {
    return JSON.stringify(config, null, 2);
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/abi.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "generateABI",
    ()=>generateABI
]);
const generateABI = ({ contractName, address, chainId, abi })=>{
    if (abi && Array.isArray(abi) && abi.length > 0) {
        return JSON.stringify(abi, null, 2);
    }
    return JSON.stringify([], null, 2);
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/components/audit/FileExplorer.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>FileExplorer
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$readme$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/readme.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/config.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$abi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/abi.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
"use client";
;
;
;
;
// Compress path nodes
function compressPath(node) {
    if (node.type === "file") return node;
    if (node.children && node.children.length === 1 && node.children[0].type === "directory") {
        const child = node.children[0];
        const compressedChild = compressPath(child);
        return {
            ...node,
            name: `${node.name}/${compressedChild.name}`,
            path: compressedChild.path,
            children: compressedChild.children
        };
    }
    return {
        ...node,
        children: node.children?.map(compressPath)
    };
}
function FileTreeView({ node, level = 0, onFileSelect, selectedPath }) {
    _s();
    // Only expand by default for the first level
    const [isExpanded, setIsExpanded] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(level === 0);
    const paddingLeft = level * 12;
    if (node.type === "file") {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
            onClick: ()=>onFileSelect({
                    name: node.name,
                    path: node.path,
                    content: node.content
                }),
            className: `w-full text-left px-2 py-1 text-sm hover:bg-[#37373D] flex items-center gap-2 group relative
          ${selectedPath === node.path ? "bg-[#37373D] text-white" : "text-[#CCCCCC]"}
          transition-colors duration-150 ease-in-out overflow-hidden`,
            style: {
                paddingLeft: `${paddingLeft + 8}px`
            },
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                    className: "w-3.5 h-3.5 flex-shrink-0 text-[#FF8B3E] opacity-80",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 84,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/components/audit/FileExplorer.tsx",
                    lineNumber: 78,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: "truncate",
                    children: node.name
                }, void 0, false, {
                    fileName: "[project]/src/components/audit/FileExplorer.tsx",
                    lineNumber: 91,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/components/audit/FileExplorer.tsx",
            lineNumber: 61,
            columnNumber: 7
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: ()=>setIsExpanded(!isExpanded),
                className: "w-full text-left px-2 py-1 text-sm hover:bg-[#37373D] flex items-center gap-2 text-[#CCCCCC] transition-colors duration-150 ease-in-out",
                style: {
                    paddingLeft: `${paddingLeft + 8}px`
                },
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                        className: `w-3.5 h-3.5 flex-shrink-0 transition-transform duration-150
            ${isExpanded ? "transform rotate-90" : ""}`,
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M9 5l7 7-7 7"
                        }, void 0, false, {
                            fileName: "[project]/src/components/audit/FileExplorer.tsx",
                            lineNumber: 111,
                            columnNumber: 11
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 104,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                        className: "w-3.5 h-3.5 flex-shrink-0 text-[#FF8B3E] opacity-80",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"
                        }, void 0, false, {
                            fileName: "[project]/src/components/audit/FileExplorer.tsx",
                            lineNumber: 124,
                            columnNumber: 11
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 118,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "truncate",
                        children: node.name
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 131,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                lineNumber: 98,
                columnNumber: 7
            }, this),
            isExpanded && node.children && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                children: node.children.map((child, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(FileTreeView, {
                        node: child,
                        level: level + 1,
                        onFileSelect: onFileSelect,
                        selectedPath: selectedPath
                    }, child.path + index, false, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 136,
                        columnNumber: 13
                    }, this))
            }, void 0, false, {
                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                lineNumber: 134,
                columnNumber: 9
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/audit/FileExplorer.tsx",
        lineNumber: 97,
        columnNumber: 5
    }, this);
}
_s(FileTreeView, "XyLtSU7Jf93pLgZ53Q9zRkrpDXY=");
_c = FileTreeView;
function FileExplorer({ files, onFileSelect, selectedFile, showImplementation, contractType, onContractTypeChange, isWrapped, onWrapChange, contractName, compiler, optimization, runs, chainId, address, implementationAddress, implementationInfo, evmVersion, tokenName, creationCode, deployedBytecode, abi, implementationAbi, creator, creationTxHash }) {
    _s1();
    const [width, setWidth] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(300);
    const [isResizing, setIsResizing] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    // Check if there are proxy and implementation contracts
    const hasProxyContract = files.some((f)=>f.path.startsWith("proxy/"));
    const hasImplementationContract = files.some((f)=>f.path.startsWith("implementation/"));
    // Modify file filtering logic
    const filteredFiles = files.filter((file)=>{
        // Always keep .md files
        if (file.path.endsWith(".md")) {
            return true;
        }
        // If it's a proxy contract scenario
        if (hasProxyContract && hasImplementationContract) {
            if (contractType === "proxy") {
                return file.path.startsWith("proxy/");
            } else {
                return file.path.startsWith("implementation/");
            }
        }
        // Non-proxy contract scenario, show all files
        return true;
    });
    const readmeContent = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$readme$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateReadme"])({
        files,
        tokenName,
        proxyInfo: {
            contractName,
            compiler,
            optimization,
            runs,
            evmVersion,
            address,
            chainId,
            creationCode,
            deployedBytecode,
            creator,
            creationTxHash
        },
        implementationInfo: implementationInfo ? {
            ...implementationInfo
        } : undefined,
        implementationAddress
    });
    // Add README.md to the file list
    const readmeFile = {
        name: "README.md",
        path: "README.md",
        content: readmeContent
    };
    // Create the corresponding config.json file
    const configFile = contractType === "proxy" ? {
        name: "config.json",
        path: "proxy/config.json",
        content: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatConfig"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateConfig"])({
            contractName,
            compiler,
            optimization,
            runs,
            evmVersion,
            creationCode,
            deployedBytecode
        }))
    } : {
        name: "config.json",
        path: "implementation/config.json",
        content: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatConfig"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateConfig"])({
            contractName: implementationInfo?.contractName || "",
            compiler: implementationInfo?.compiler || "",
            optimization: implementationInfo?.optimization || false,
            runs: implementationInfo?.runs || 200,
            evmVersion: implementationInfo?.evmVersion,
            creationCode: implementationInfo?.creationCode,
            deployedBytecode: implementationInfo?.deployedBytecode
        }))
    };
    // Add abi.json to the allFiles array
    const abiFile = contractType === "proxy" ? {
        name: "abi.json",
        path: "proxy/abi.json",
        content: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$abi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateABI"])({
            contractName,
            address,
            chainId,
            abi
        })
    } : {
        name: "abi.json",
        path: "implementation/abi.json",
        content: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$abi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateABI"])({
            contractName: implementationInfo?.contractName || "",
            address: implementationAddress,
            chainId,
            abi: implementationAbi
        })
    };
    // Build allFiles array with deduplication for report files
    const allFiles = [
        // Keep non-report files
        ...filteredFiles.filter((f)=>!f.path.startsWith("report-")),
        readmeFile,
        configFile,
        abiFile,
        // Keep all report files without deduplication
        ...files.filter((f)=>f.path.startsWith("report-"))
    ];
    // Build file tree
    const buildFileTree = (files)=>{
        const root = {
            name: "",
            type: "directory",
            path: "",
            children: []
        };
        files.forEach((file)=>{
            // Remove proxy/ or implementation/ prefixes
            const cleanPath = file.path.replace(/^(proxy|implementation)\//, "");
            const parts = cleanPath.split("/");
            let current = root;
            parts.forEach((part, index)=>{
                if (index === parts.length - 1) {
                    // File node
                    current.children = current.children || [];
                    current.children.push({
                        name: part,
                        type: "file",
                        path: file.path,
                        content: file.content
                    });
                } else {
                    // Directory node
                    current.children = current.children || [];
                    let child = current.children.find((node)=>node.type === "directory" && node.name === part);
                    if (!child) {
                        child = {
                            name: part,
                            type: "directory",
                            path: parts.slice(0, index + 1).join("/"),
                            children: []
                        };
                        current.children.push(child);
                    }
                    current = child;
                }
            });
        });
        // Recursively sort the children of each directory
        const sortNodes = (node)=>{
            if (node.children) {
                // First recursively process all children
                node.children = node.children.map(sortNodes);
                // Then sort the children of the current level
                node.children.sort((a, b)=>{
                    // If types are different, directories come first
                    if (a.type !== b.type) {
                        return a.type === "directory" ? -1 : 1;
                    }
                    // If types are the same, sort by name alphabetically
                    return a.name.localeCompare(b.name);
                });
            }
            return node;
        };
        // Compress single-path directory nodes and sort
        return sortNodes(compressPath(root));
    };
    // Build file tree - using the file list containing README.md
    const fileTree = buildFileTree(allFiles);
    // Handle window size adjustment
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "FileExplorer.useEffect": ()=>{
            if (!isResizing) return;
            const handleMouseMove = {
                "FileExplorer.useEffect.handleMouseMove": (e)=>{
                    const newWidth = e.clientX;
                    if (newWidth > 150 && newWidth < 600) {
                        setWidth(newWidth);
                    }
                }
            }["FileExplorer.useEffect.handleMouseMove"];
            const handleMouseUp = {
                "FileExplorer.useEffect.handleMouseUp": ()=>{
                    setIsResizing(false);
                }
            }["FileExplorer.useEffect.handleMouseUp"];
            document.addEventListener("mousemove", handleMouseMove);
            document.addEventListener("mouseup", handleMouseUp);
            return ({
                "FileExplorer.useEffect": ()=>{
                    document.removeEventListener("mousemove", handleMouseMove);
                    document.removeEventListener("mouseup", handleMouseUp);
                }
            })["FileExplorer.useEffect"];
        }
    }["FileExplorer.useEffect"], [
        isResizing
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-[#252526] border-r border-[#1E1E1E] flex flex-col overflow-hidden",
                style: {
                    width: `${width}px`
                },
                children: [
                    hasProxyContract && hasImplementationContract && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex flex-col p-2 gap-2 border-b border-[#1E1E1E]",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex gap-1",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    onClick: ()=>{
                                        onContractTypeChange("proxy");
                                        const proxyFile = files.find((f)=>f.path.startsWith("proxy/"));
                                        if (proxyFile) onFileSelect(proxyFile);
                                    },
                                    className: `flex-1 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 transition-colors
                  ${contractType === "proxy" ? "bg-[#1E1E1E] text-white" : "text-gray-400 hover:text-white hover:bg-[#2D2D2D]"}`,
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                            className: "w-4 h-4",
                                            fill: "none",
                                            stroke: "currentColor",
                                            viewBox: "0 0 24 24",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                strokeWidth: 2,
                                                d: "M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                                lineNumber: 468,
                                                columnNumber: 19
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                            lineNumber: 462,
                                            columnNumber: 17
                                        }, this),
                                        "Proxy"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                    lineNumber: 447,
                                    columnNumber: 15
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    onClick: ()=>{
                                        onContractTypeChange("implementation");
                                        const implFile = files.find((f)=>f.path.startsWith("implementation/"));
                                        if (implFile) onFileSelect(implFile);
                                    },
                                    className: `flex-1 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 transition-colors
                  ${contractType === "implementation" ? "bg-[#1E1E1E] text-white" : "text-gray-400 hover:text-white hover:bg-[#2D2D2D]"}`,
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                            className: "w-4 h-4",
                                            fill: "none",
                                            stroke: "currentColor",
                                            viewBox: "0 0 24 24",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                strokeWidth: 2,
                                                d: "M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                                lineNumber: 498,
                                                columnNumber: 19
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                            lineNumber: 492,
                                            columnNumber: 17
                                        }, this),
                                        "Implementation"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                    lineNumber: 477,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/audit/FileExplorer.tsx",
                            lineNumber: 446,
                            columnNumber: 13
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 445,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-4 text-white font-medium border-b border-[#1E1E1E] flex items-center justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Files"
                            }, void 0, false, {
                                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                lineNumber: 513,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>onWrapChange(!isWrapped),
                                className: "px-2 py-1 hover:bg-[#333333] text-gray-400  rounded-md transition-colors flex items-center gap-1.5 text-xs",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: "w-3.5 h-3.5",
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: isWrapped ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M4 6h16M4 12h16m-7 6h7"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                            lineNumber: 526,
                                            columnNumber: 17
                                        }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M4 6h16M4 12h16M4 18h16"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                            lineNumber: 533,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                        lineNumber: 519,
                                        columnNumber: 13
                                    }, this),
                                    isWrapped ? "Unwrap" : "Wrap"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                lineNumber: 514,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 512,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex-1 overflow-auto",
                        children: fileTree.children?.map((node, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(FileTreeView, {
                                node: node,
                                onFileSelect: onFileSelect,
                                selectedPath: selectedFile?.path
                            }, node.path + index, false, {
                                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                                lineNumber: 548,
                                columnNumber: 13
                            }, this))
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/FileExplorer.tsx",
                        lineNumber: 546,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                lineNumber: 439,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "w-1 hover:w-1 cursor-col-resize bg-transparent hover:bg-[#FF8B3E]/20  active:bg-[#FF8B3E]/40 transition-colors",
                onMouseDown: ()=>setIsResizing(true),
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "w-px h-full bg-[#333333]"
                }, void 0, false, {
                    fileName: "[project]/src/components/audit/FileExplorer.tsx",
                    lineNumber: 564,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/components/audit/FileExplorer.tsx",
                lineNumber: 559,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true);
}
_s1(FileExplorer, "56qVLCaGLO0zY3sr8MF2yB598Nk=");
_c1 = FileExplorer;
var _c, _c1;
__turbopack_context__.k.register(_c, "FileTreeView");
__turbopack_context__.k.register(_c1, "FileExplorer");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/components/audit/ProxyContractAlert.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>ProxyContractAlert
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
;
function ProxyContractAlert({ isOpen, onClose, onViewImplementation }) {
    if (!isOpen) return null;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "fixed inset-0 bg-black/50 z-50",
                onClick: onClose
            }, void 0, false, {
                fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                lineNumber: 17,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#252526]  rounded-lg border border-[#333333] p-6 w-[480px] z-50 shadow-2xl",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-start gap-4",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "p-2 bg-[#FF8B3E]/10 rounded-lg",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                className: "w-6 h-6 text-[#FF8B3E]",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: 2,
                                    d: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                                    lineNumber: 32,
                                    columnNumber: 15
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                                lineNumber: 26,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                            lineNumber: 25,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex-1",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                    className: "text-lg font-semibold text-white mb-2",
                                    children: "Proxy Contract Detected"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                                    lineNumber: 41,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-gray-400 mb-4",
                                    children: "This is a proxy contract. The actual implementation of the contract logic is stored at a different address."
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                                    lineNumber: 44,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex justify-end gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            onClick: onClose,
                                            className: "px-4 py-2 bg-[#2D2D2D] hover:bg-[#3D3D3D] text-gray-300  rounded-lg text-sm border border-[#404040] transition-colors",
                                            children: "Stay on Proxy"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                                            lineNumber: 49,
                                            columnNumber: 15
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            onClick: ()=>{
                                                onViewImplementation();
                                                onClose();
                                            },
                                            className: "px-4 py-2 bg-[#2D2D2D] hover:bg-[#3D3D3D] text-[#FF8B3E] rounded-lg text-sm border border-[#FF8B3E]/20 transition-colors hover:border-[#FF8B3E]/40 hover:bg-[#FF8B3E]/10",
                                            children: "View Implementation"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                                            lineNumber: 56,
                                            columnNumber: 15
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                                    lineNumber: 48,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                            lineNumber: 40,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                    lineNumber: 24,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/components/audit/ProxyContractAlert.tsx",
                lineNumber: 20,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true);
}
_c = ProxyContractAlert;
var _c;
__turbopack_context__.k.register(_c, "ProxyContractAlert");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/components/audit/PathBreadcrumb.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>PathBreadcrumb
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
;
function PathBreadcrumb({ path }) {
    // Remove proxy/ or implementation/ prefix
    const cleanPath = path.replace(/^(proxy|implementation)\//, '');
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
        className: "text-[#CCCCCC] opacity-70",
        title: cleanPath,
        children: cleanPath
    }, void 0, false, {
        fileName: "[project]/src/components/audit/PathBreadcrumb.tsx",
        lineNumber: 10,
        columnNumber: 5
    }, this);
}
_c = PathBreadcrumb;
var _c;
__turbopack_context__.k.register(_c, "PathBreadcrumb");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/language.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "RESPONSE_LANGUAGES",
    ()=>RESPONSE_LANGUAGES,
    "createPromptWithLanguage",
    ()=>createPromptWithLanguage,
    "getLanguageInstruction",
    ()=>getLanguageInstruction
]);
const RESPONSE_LANGUAGES = [
    {
        id: "english",
        name: "English",
        instruction: "Please respond in English for the analysis.\n\n"
    },
    {
        id: "chinese-simplified",
        name: "简体中文",
        instruction: "请使用简体中文回复分析。\n\n"
    },
    {
        id: "chinese-traditional",
        name: "繁體中文",
        instruction: "請使用繁體中文回覆分析。\n\n"
    },
    {
        id: "japanese",
        name: "日本語",
        instruction: "分析を日本語で回答してください。\n\n"
    },
    {
        id: "korean",
        name: "한국어",
        instruction: "분석을 한국어로 답변해 주세요.\n\n"
    },
    // European Languages
    {
        id: "spanish",
        name: "Español",
        instruction: "Por favor, responda el análisis en español.\n\n"
    },
    {
        id: "french",
        name: "Français",
        instruction: "Veuillez répondre à l'analyse en français.\n\n"
    },
    {
        id: "german",
        name: "Deutsch",
        instruction: "Bitte antworten Sie auf die Analyse auf Deutsch.\n\n"
    },
    {
        id: "italian",
        name: "Italiano",
        instruction: "Si prega di rispondere all'analisi in italiano.\n\n"
    },
    {
        id: "portuguese",
        name: "Português",
        instruction: "Por favor, responda a análise em português.\n\n"
    },
    {
        id: "dutch",
        name: "Nederlands",
        instruction: "Gelieve de analyse in het Nederlands te beantwoorden.\n\n"
    },
    {
        id: "polish",
        name: "Polski",
        instruction: "Proszę odpowiedzieć na analizę po polsku.\n\n"
    },
    {
        id: "czech",
        name: "Čeština",
        instruction: "Prosím odpovězte na analýzu v češtině.\n\n"
    },
    {
        id: "greek",
        name: "Ελληνικά",
        instruction: "Παρακαλώ απαντήστε στην ανάλυση στα Ελληνικά.\n\n"
    },
    {
        id: "russian",
        name: "Русский",
        instruction: "Пожалуйста, ответьте на анализ на русском языке.\n\n"
    },
    // Middle Eastern Languages
    {
        id: "arabic",
        name: "العربية",
        instruction: "الرجاء الرد على التحليل باللغة العربية.\n\n"
    },
    {
        id: "persian",
        name: "فارسی",
        instruction: "لطفاً به تحلیل به زبان فارسی پاسخ دهید.\n\n"
    },
    {
        id: "turkish",
        name: "Türkçe",
        instruction: "Lütfen analizi Türkçe olarak yanıtlayın.\n\n"
    },
    {
        id: "hebrew",
        name: "עברית",
        instruction: "אנא השב על הניתוח בעברית.\n\n"
    },
    {
        id: "kurdish",
        name: "کوردی",
        instruction: "تکایە بە زمانی کوردی وەڵامی شیکارییەکە بدەوە.\n\n"
    },
    {
        id: "dari",
        name: "دری",
        instruction: "لطفاً به تحلیل به زبان دری پاسخ دهید.\n\n"
    },
    // Indian Languages
    {
        id: "hindi",
        name: "हिंदी",
        instruction: "कृपया विश्लेषण का उत्तर हिंदी में दें।\n\n"
    },
    {
        id: "bengali",
        name: "বাংলা",
        instruction: "অনুগ্রহ করে নিশ্লেষণের উত্তর বাংলায় দিন।\n\n"
    },
    {
        id: "telugu",
        name: "తెలుగు",
        instruction: "దయచేసి కిశ్లేషణకు తెలుగులో సమాధానం ఇవ్వండి.\n\n"
    },
    {
        id: "marathi",
        name: "मराठी",
        instruction: "कृपया विश्लेषणाचे उत्तर मराठीत द्या.\n\n"
    },
    {
        id: "tamil",
        name: "தமிழ்",
        instruction: "பகுப்பாய்வுக்கு தமிழில் பதிலளிக்கவும்.\n\n"
    },
    {
        id: "gujarati",
        name: "ગુજરાતી",
        instruction: "કૃપા કરીને નિશ્લેષણનો જવાબ ગુજરાતીમાં આપો.\n\n"
    },
    {
        id: "kannada",
        name: "ಕನ್ನಡ",
        instruction: "ದಯವಿಟ್ಟು ಈಿಶ್ಲೇಷಣೆಗೆ ಕನ್ನಡದಲ್ಲಿ ಉತ್ತರಿಸಿ.\n\n"
    },
    {
        id: "malayalam",
        name: "മലയാളം",
        instruction: "ദയവായി വിശകലനത്തിന് മലയാളത്തിൽ മറുപടി നൽകുക.\n\n"
    },
    {
        id: "punjabi",
        name: "ਪੰਜਾਬੀ",
        instruction: "ਕਿਰਪਾ ਕਰਕੇ ਵਿਸ਼ਲੇਸ਼ਣ ਦਾ ਜਵਾਬ ਪੰਜਾਬੀ ਵਿੱਚ ਦਿਓ।\n\n"
    },
    {
        id: "urdu",
        name: "اردو",
        instruction: "براہ کرم تجزیہ کا جواب اردو میں دیں۔\n\n"
    },
    // Southeast Asian Languages
    {
        id: "vietnamese",
        name: "Tiếng Việt",
        instruction: "Vui lòng trả lời phân tích bằng tiếng Việt.\n\n"
    },
    {
        id: "thai",
        name: "ไทย",
        instruction: "กรุณาตอบการวิเคราะห์เป็นภาษาไทย\n\n"
    },
    {
        id: "indonesian",
        name: "Bahasa Indonesia",
        instruction: "Mohon jawab analisis dalam Bahasa Indonesia.\n\n"
    }
];
const getLanguageInstruction = (language)=>{
    const lang = RESPONSE_LANGUAGES.find((l)=>l.id === language);
    return lang?.instruction || RESPONSE_LANGUAGES[0].instruction;
};
const createPromptWithLanguage = (prompt, language)=>{
    const languageInstruction = getLanguageInstruction(language);
    return prompt + "\n\n" + languageInstruction;
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/neversight-models.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NEVERSIGHT_MODELS",
    ()=>NEVERSIGHT_MODELS,
    "getNeversightModelById",
    ()=>getNeversightModelById
]);
const NEVERSIGHT_MODELS = [
    {
        id: "anthropic/claude-4.5-opus",
        name: "Claude 4.5 Opus",
        description: "Anthropic Claude 4.5 Opus"
    },
    {
        id: "anthropic/claude-4.5-opus-max",
        name: "Claude 4.5 Opus Max",
        description: "Anthropic Claude 4.5 Opus Max"
    },
    {
        id: "google/gemini-3-pro",
        name: "Gemini 3 Pro",
        description: "Google Gemini 3 Pro"
    },
    {
        id: "google/gemini-3-flash",
        name: "Gemini 3 Flash",
        description: "Google Gemini 3 Flash"
    },
    {
        id: "openai/gpt-5.2",
        name: "GPT-5.2",
        description: "OpenAI GPT-5.2"
    },
    {
        id: "openai/gpt-5.2-high",
        name: "GPT-5.2 High",
        description: "OpenAI GPT-5.2 High"
    }
];
const getNeversightModelById = (modelId)=>NEVERSIGHT_MODELS.find((m)=>m.id === modelId);
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/components/audit/AIConfigModal.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>AIConfigModal
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$headlessui$2f$react$2f$dist$2f$components$2f$dialog$2f$dialog$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@headlessui/react/dist/components/dialog/dialog.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$headlessui$2f$react$2f$dist$2f$components$2f$listbox$2f$listbox$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@headlessui/react/dist/components/listbox/listbox.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/react-hot-toast/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$language$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/language.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/neversight-models.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
function AIConfigModal({ isOpen, onClose, onStartAnalysis }) {
    _s();
    const [config, setConfig] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({
        "AIConfigModal.useState": ()=>{
            const defaultConfig = {
                apiKey: "",
                selectedModel: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NEVERSIGHT_MODELS"][0].id,
                language: "english",
                superPrompt: true
            };
            const savedConfig = localStorage.getItem('ai_config');
            if (savedConfig) {
                try {
                    const raw = JSON.parse(savedConfig);
                    const merged = {
                        apiKey: typeof raw.apiKey === "string" ? raw.apiKey : defaultConfig.apiKey,
                        selectedModel: typeof raw.selectedModel === "string" ? raw.selectedModel : defaultConfig.selectedModel,
                        language: typeof raw.language === "string" ? raw.language : defaultConfig.language,
                        superPrompt: true
                    };
                    // Validate model
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getNeversightModelById"])(merged.selectedModel)) {
                        merged.selectedModel = defaultConfig.selectedModel;
                    }
                    return merged;
                } catch (e) {
                    console.error('Failed to parse saved config:', e);
                }
            }
            return defaultConfig;
        }
    }["AIConfigModal.useState"]);
    const handleStartAnalysis = ()=>{
        if (!config.apiKey?.trim()) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error("Please enter your Neversight API Key");
            return;
        }
        // save config to local storage
        localStorage.setItem('ai_config', JSON.stringify(config));
        onStartAnalysis();
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$headlessui$2f$react$2f$dist$2f$components$2f$dialog$2f$dialog$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Dialog"], {
        open: isOpen,
        onClose: onClose,
        className: "relative z-50",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "fixed inset-0 bg-black/50 z-40",
                onClick: onClose
            }, void 0, false, {
                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                lineNumber: 66,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2  bg-[#1E1E1E] rounded-lg border border-[#333333] p-6 w-[480px] z-50",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                        className: "text-xl font-semibold text-white mb-4",
                        children: "AI Configuration"
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                        lineNumber: 71,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "space-y-4",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex gap-4 items-end",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex-1",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-300 mb-2",
                                                children: "Model"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                lineNumber: 78,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                value: config.selectedModel,
                                                onChange: (e)=>setConfig((prev)=>({
                                                            ...prev,
                                                            selectedModel: e.target.value
                                                        })),
                                                className: "w-full bg-[#2A2A2A] text-gray-300 border border-[#404040] rounded-md px-3 py-2",
                                                children: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NEVERSIGHT_MODELS"].map((model)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: model.id,
                                                        children: model.name
                                                    }, model.id, false, {
                                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                        lineNumber: 92,
                                                        columnNumber: 19
                                                    }, this))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                lineNumber: 81,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 77,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center pb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "checkbox",
                                                id: "superPrompt",
                                                checked: config.superPrompt,
                                                onChange: (e)=>setConfig((prev)=>({
                                                            ...prev,
                                                            superPrompt: e.target.checked
                                                        })),
                                                className: "h-4 w-4 text-[#FF8B3E] bg-[#2A2A2A] border-[#404040]  rounded focus:ring-[#FF8B3E] focus:ring-offset-[#1E1E1E]"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                lineNumber: 100,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "superPrompt",
                                                className: "ml-2 cursor-pointer text-sm font-medium text-gray-300",
                                                children: "Super Prompt"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                lineNumber: 113,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 99,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                lineNumber: 76,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "block text-sm font-medium text-gray-300 mb-2",
                                        children: "Response Language"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 123,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$headlessui$2f$react$2f$dist$2f$components$2f$listbox$2f$listbox$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Listbox"], {
                                        value: config.language || "english",
                                        onChange: (value)=>setConfig({
                                                ...config,
                                                language: value
                                            }),
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "relative mt-1",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$headlessui$2f$react$2f$dist$2f$components$2f$listbox$2f$listbox$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Listbox"].Button, {
                                                    className: "relative w-full bg-[#2A2A2A] text-gray-300 border border-[#404040] rounded-md px-3 py-2 text-left",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "block truncate",
                                                            children: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$language$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RESPONSE_LANGUAGES"].find((l)=>l.id === (config.language || "english"))?.name
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                            lineNumber: 132,
                                                            columnNumber: 19
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",
                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                className: "h-5 w-5 text-gray-400",
                                                                viewBox: "0 0 20 20",
                                                                fill: "none",
                                                                stroke: "currentColor",
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                    d: "M7 7l3-3 3 3m0 6l-3 3-3-3",
                                                                    strokeWidth: "1.5",
                                                                    strokeLinecap: "round",
                                                                    strokeLinejoin: "round"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                                    lineNumber: 146,
                                                                    columnNumber: 23
                                                                }, this)
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                                lineNumber: 140,
                                                                columnNumber: 21
                                                            }, this)
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                            lineNumber: 139,
                                                            columnNumber: 19
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                    lineNumber: 131,
                                                    columnNumber: 17
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$headlessui$2f$react$2f$dist$2f$components$2f$listbox$2f$listbox$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Listbox"].Options, {
                                                    className: "absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-[#2A2A2A] border border-[#404040] py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",
                                                    children: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$language$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RESPONSE_LANGUAGES"].map((language)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$headlessui$2f$react$2f$dist$2f$components$2f$listbox$2f$listbox$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Listbox"].Option, {
                                                            value: language.id,
                                                            className: ({ active })=>`relative cursor-pointer select-none py-2 px-4 ${active ? "bg-[#404040] text-white" : "text-gray-300"}`,
                                                            children: ({ selected })=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                    className: `block truncate ${selected ? "font-medium" : "font-normal"}`,
                                                                    children: language.name
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                                    lineNumber: 167,
                                                                    columnNumber: 25
                                                                }, this)
                                                        }, language.id, false, {
                                                            fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                            lineNumber: 157,
                                                            columnNumber: 21
                                                        }, this))
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                                    lineNumber: 155,
                                                    columnNumber: 17
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                            lineNumber: 130,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 126,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                lineNumber: 122,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "block text-sm font-medium text-gray-300 mb-2",
                                        children: "Neversight API Key"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 183,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                        type: "password",
                                        value: config.apiKey,
                                        onChange: (e)=>setConfig((prev)=>({
                                                    ...prev,
                                                    apiKey: e.target.value
                                                })),
                                        placeholder: "Enter your Neversight API key",
                                        className: "w-full bg-[#2A2A2A] text-gray-300 border border-[#404040] rounded-md px-3 py-2"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 186,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                lineNumber: 182,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                        lineNumber: 75,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-end gap-3 mt-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>{
                                    localStorage.removeItem("ai_config");
                                    setConfig({
                                        apiKey: "",
                                        selectedModel: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NEVERSIGHT_MODELS"][0].id,
                                        language: "english",
                                        superPrompt: true
                                    });
                                },
                                className: "px-4 py-2 text-gray-400 hover:text-white transition-colors",
                                children: "Reset"
                            }, void 0, false, {
                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                lineNumber: 199,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: onClose,
                                className: "px-4 py-2 text-gray-400 hover:text-white transition-colors",
                                children: "Cancel"
                            }, void 0, false, {
                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                lineNumber: 213,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: handleStartAnalysis,
                                className: "group relative inline-flex items-center gap-2 px-4 py-2  bg-[#252526] rounded-lg text-[#FF8B3E] font-medium border border-[#FF8B3E]/20 transition-all duration-300 ease-out hover:bg-[#FF8B3E]/10",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "relative z-10",
                                        children: "Start Analysis"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 227,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: "w-4 h-4 transform transition-transform duration-300  group-hover:translate-x-1",
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M13 7l5 5m0 0l-5 5m5-5H6"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                            lineNumber: 235,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                        lineNumber: 228,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                                lineNumber: 219,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                        lineNumber: 198,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/audit/AIConfigModal.tsx",
                lineNumber: 67,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/audit/AIConfigModal.tsx",
        lineNumber: 65,
        columnNumber: 5
    }, this);
}
_s(AIConfigModal, "5hHTTJhsSQWZc+7hesJq2Qe+Z5E=");
_c = AIConfigModal;
var _c;
__turbopack_context__.k.register(_c, "AIConfigModal");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/ai.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "analyzeWithAI",
    ()=>analyzeWithAI,
    "getAIConfig",
    ()=>getAIConfig,
    "getModelName",
    ()=>getModelName,
    "useAIConfig",
    ()=>useAIConfig
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/neversight-models.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
const SYSTEM_PROMPT = `You are a smart contract security auditor with the following responsibilities:
- Identify potential security vulnerabilities and risks
- Analyze code for best practices and standards compliance
- Suggest gas optimizations and efficiency improvements
- Provide detailed explanations of findings
- Recommend specific fixes and improvements
Format your response with clear sections for vulnerabilities, optimizations, and recommendations.
Please include full code snippets and function names in your response.`;
function getAIConfig(config) {
    const savedConfig = localStorage.getItem("ai_config");
    if (savedConfig) {
        return JSON.parse(savedConfig);
    }
    return config;
}
function getModelName(config) {
    // Make it safe for filenames (no slashes)
    return (config.selectedModel || "model").toLowerCase().replace(/[^a-z0-9._-]+/g, "-").replace(/-+/g, "-").replace(/^-|-$/g, "");
}
function useAIConfig() {
    _s();
    const [config, setConfig] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({
        "useAIConfig.useState": ()=>{
            const defaultConfig = {
                apiKey: "",
                selectedModel: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NEVERSIGHT_MODELS"][0].id,
                language: "english",
                superPrompt: true
            };
            if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
            ;
            const saved = localStorage.getItem("ai_config");
            if (!saved) return defaultConfig;
            try {
                const raw = JSON.parse(saved);
                const merged = {
                    apiKey: typeof raw.apiKey === "string" ? raw.apiKey : defaultConfig.apiKey,
                    selectedModel: typeof raw.selectedModel === "string" ? raw.selectedModel : defaultConfig.selectedModel,
                    language: typeof raw.language === "string" ? raw.language : defaultConfig.language,
                    superPrompt: typeof raw.superPrompt === "boolean" ? raw.superPrompt : defaultConfig.superPrompt
                };
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getNeversightModelById"])(merged.selectedModel)) {
                    merged.selectedModel = defaultConfig.selectedModel;
                }
                return merged;
            } catch  {
                return defaultConfig;
            }
        }
    }["useAIConfig.useState"]);
    // Save configuration to localStorage
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useAIConfig.useEffect": ()=>{
            localStorage.setItem("ai_config", JSON.stringify(config));
        }
    }["useAIConfig.useEffect"], [
        config
    ]);
    return {
        config,
        setConfig
    };
}
_s(useAIConfig, "6rn11o46NnW0nUvfJsSa2m6uAIg=");
async function analyzeWithAI(prompt, signal) {
    const savedConfig = localStorage.getItem("ai_config");
    if (!savedConfig) {
        throw new Error("AI configuration not found");
    }
    const config = JSON.parse(savedConfig);
    const model = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$neversight$2d$models$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getNeversightModelById"])(config.selectedModel);
    if (!model) {
        throw new Error(`Invalid model selected: ${config.selectedModel}`);
    }
    const apiKey = config.apiKey?.trim();
    if (!apiKey) {
        throw new Error("Neversight API key not found");
    }
    try {
        const response = await fetch("https://api.neversight.dev/v1/chat/completions", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                Authorization: `Bearer ${apiKey}`
            },
            body: JSON.stringify({
                model: model.id,
                messages: [
                    {
                        role: "system",
                        content: SYSTEM_PROMPT
                    },
                    {
                        role: "user",
                        content: prompt
                    }
                ],
                temperature: 0.5
            }),
            signal
        });
        if (!response?.ok) {
            const errorData = await response.text();
            throw new Error(`Neversight API request failed: ${response.status} ${response.statusText}. Details: ${errorData}`);
        }
        const data = await response.json();
        const content = data?.choices?.[0]?.message?.content;
        if (typeof content !== "string" || !content) {
            throw new Error("Unexpected response format from Neversight");
        }
        return content;
    } catch (error) {
        console.error("AI analysis error:", error);
        throw error instanceof Error ? error : new Error("Unknown error during analysis");
    }
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/services/audit/reportGenerator.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "generateReport",
    ()=>generateReport
]);
async function generateReport(input) {
    const vulnerabilitiesBySeverity = {
        Critical: input.vulnerabilities.filter((v)=>v.severity === "Critical"),
        High: input.vulnerabilities.filter((v)=>v.severity === "High"),
        Medium: input.vulnerabilities.filter((v)=>v.severity === "Medium"),
        Low: input.vulnerabilities.filter((v)=>v.severity === "Low")
    };
    const recommendations = [
        ...input.vulnerabilities.map((v)=>v.recommendation),
        ...input.gasOptimizations.map((o)=>o.description)
    ].filter(Boolean);
    return {
        summary: {
            totalIssues: input.vulnerabilities.length,
            criticalIssues: vulnerabilitiesBySeverity.Critical.length,
            highIssues: vulnerabilitiesBySeverity.High.length,
            mediumIssues: vulnerabilitiesBySeverity.Medium.length,
            lowIssues: vulnerabilitiesBySeverity.Low.length,
            gasOptimizations: input.gasOptimizations.length
        },
        contractInfo: {
        },
        analysis: input.aiAnalysis,
        recommendations: recommendations
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/contractFilters.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "filterContractFiles",
    ()=>filterContractFiles,
    "findMainContract",
    ()=>findMainContract,
    "mergeContractContents",
    ()=>mergeContractContents,
    "shouldExcludeFile",
    ()=>shouldExcludeFile
]);
// Define prefixes of third-party library paths to be filtered
const EXCLUDED_PREFIXES = [
    "@",
    "lib/",
    "node_modules/",
    "@openzeppelin/",
    "open-zeppelin/",
    "solmate/",
    "solady/",
    "permit2/",
    "forge-std/",
    ".deps/",
    "test/",
    "script/"
];
// Define third-party libraries to be filtered
const EXCLUDED_LIBRARIES = [
    "openzeppelin",
    "solmate",
    "solady",
    "permit2",
    "forge-std",
    "hardhat",
    "foundry"
];
function shouldExcludeFile(path) {
    // Convert to lowercase for case-insensitive comparison
    const lowerPath = path.toLowerCase();
    // Check path prefixes
    if (EXCLUDED_PREFIXES.some((prefix)=>lowerPath.startsWith(prefix.toLowerCase()))) {
        return true;
    }
    // Check if it contains third-party library names
    if (EXCLUDED_LIBRARIES.some((lib)=>lowerPath.includes(lib.toLowerCase()))) {
        return true;
    }
    return false;
}
function filterContractFiles(files, applyFilter = true) {
    if (!applyFilter) {
        return files; // Return all files without filtering when applyFilter is false
    }
    return files.filter((file)=>!shouldExcludeFile(file.path));
}
function findMainContract(files, applyFilter = true) {
    const filteredFiles = filterContractFiles(files, applyFilter);
    // If there is only one file, return it directly
    if (filteredFiles.length === 1) {
        return filteredFiles[0];
    }
    // Try to find the main contract file (usually the file matching the contract name)
    // Add more heuristic rules as needed
    return filteredFiles[0] || null;
}
// Define file type priorities (lower number = higher priority)
const FILE_PRIORITIES = {
    ".sol": 1,
    ".t.sol": 2,
    ".s.sol": 2,
    ".test.sol": 2,
    ".script.sol": 2,
    ".mock.sol": 3,
    ".lib.sol": 4
};
// Get file priority (lower number = higher priority)
function getFilePriority(filename) {
    // Check each known extension pattern
    for (const [ext, priority] of Object.entries(FILE_PRIORITIES)){
        if (filename.toLowerCase().endsWith(ext)) {
            return priority;
        }
    }
    // Default priority for unknown patterns
    return 99;
}
function mergeContractContents(files, applyFilter = true) {
    const filteredFiles = filterContractFiles(files, applyFilter);
    // Sort files by priority and name
    const sortedFiles = [
        ...filteredFiles
    ].sort((a, b)=>{
        // First compare by priority
        const priorityA = getFilePriority(a.name);
        const priorityB = getFilePriority(b.name);
        if (priorityA !== priorityB) {
            return priorityA - priorityB;
        }
        // If priorities are equal, sort alphabetically
        return a.name.localeCompare(b.name);
    });
    // Process each file independently
    const processedContents = sortedFiles.map((file)=>{
        // Clean up content and remove multiple empty lines
        const content = file.content.trim().replace(/\n\s*\n\s*\n/g, "\n\n") // Replace 3+ newlines with 2
        .replace(/^\s*import\s+[^;]+;\s*\n*/gm, ""); // Remove import statements
        return {
            name: file.name,
            content: content
        };
    });
    // Combine all files with proper headers and spacing
    return processedContents.map(({ name, content })=>`// File: ${name}\n${content}`).join("\n\n").replace(/\n\s*\n\s*\n/g, "\n\n"); // Final cleanup of multiple empty lines
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/services/audit/prompts.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SECURITY_AUDIT_PROMPT",
    ()=>SECURITY_AUDIT_PROMPT,
    "SUPPER_PROMPT",
    ()=>SUPPER_PROMPT
]);
const SECURITY_AUDIT_PROMPT = `You are a smart contract security auditor tasked with analyzing a smart contract for security vulnerabilities and potential optimizations. Your goal is to provide a comprehensive security analysis in markdown format. Follow these instructions carefully:

The smart contract code you will analyze is provided here:
<contract_code>
\${mergedCode}
</contract_code>

The name of the contract (if provided) is:
<contract_name>
\${params.contractName ? params.contractName : ''}
</contract_name>

Please provide a comprehensive security analysis(markdown format) following this structure:

## About
Brief overview of the contract's purpose and main functionality.

## Findings Severity breakdown
- Critical: Issues that can lead to loss of funds or complete contract compromise
- High: Issues that can lead to contract malfunction or moderate risk
- Medium: Issues that can cause unintended behavior
- Low: Best practice violations and code improvements
- Gas: Optimizations for reducing gas costs

## For each finding, provide:

Each finding should be separated by a horizontal line (---) and include:

- **Title:** [Name of the finding]
- **Severity:** [Critical/High/Medium/Low/Gas]
- **Description:** [Detailed explanation]
- **Impact:** [What could happen if exploited]
- **Location:** [File name and line numbers]
- **Recommendation:** [How to fix and make sure the result of the fix is correct]

Example format:

### [Finding Title]
- **Title:** Reentrancy Vulnerability in Withdraw Function
- **Severity:** Critical
- **Description:** [Description here...]
- **Impact:** [Impact details...]
- **Location:** Contract.sol:123
- **Recommendation:** [Recommendation details...]

---

### [Next Finding Title]
- **Title:** [Next finding...]
[...]

Focus on these specific vulnerabilities and make sure the logic is correct:

a) Access Control & Authorization
- Missing or insufficient access controls
- Unprotected initialization
- Unverified external calls
- Arbitrary external calls
- Incorrect validation of signatures
- Function visibility modifiers
- Privileged operations
- Default visibilities
- tx.origin Authentication

b) Price & Oracle Manipulation
- Price manipulation in DEX pools
- Stale or manipulated price data
- Flash loan attack vectors
- Sandwich attack vulnerabilities
- Oracle manipulation risks
- Price oracle dependencies

c) Logic & Validation Flaws
- Reentrancy vulnerabilities
  * State changes after external calls
  * Recursive calls through fallback functions
  * Cross-function reentrancy
  * Read-only reentrancy
  * Missing or incorrectly placed ReentrancyGuard
  * Incorrect ordering of state updates
- Integer overflow/underflow
- Arithmetic Over/Under Flows
- Precision loss and rounding errors
- Business logic flaws
- Input validation issues
- Incorrect state transitions
- Missing validation checks
- Floating Points and Numerical Precision

d) Protocol-Specific Risks
- Flash loan attack vectors
- MEV vulnerabilities
- Cross-function reentrancy
- Cross-protocol interactions
- Proxy implementation flaws
- Incorrect initialization
- Upgrade mechanism flaws
- Unexpected Ether handling
- Forcibly sent ether through selfdestruct
- Pre-sent ether handling
- First Depositor Vulnerability
  * Price manipulation during initial deposit
  * Share calculation exploitation with minimal deposits
  * Missing minimum deposit amount checks
  * Special cases in share minting logic for first deposit
  * Lack of virtual reserves or price manipulation protection
  * Initial share ratio manipulation
  * Missing checks for pool initialization
  * Absence of minimum liquidity locks

e) Token-Related Issues
- ERC20 approval/transfer issues
- Fee-on-transfer token handling
- Rebasing token compatibility
- Token balance manipulation
- Reflection token issues
- Missing return value checks
- Incorrect decimals handling
- Short Address/Parameter Attack

f) System & Integration Risks
- Centralization points
- Upgrade mechanism flaws
- Cross-chain bridge vulnerabilities
- External protocol dependencies
- Composability risks
- Third-party contract interactions
- External call failures
- Delegatecall risks
- Storage layout in proxy contracts

g) Additional Security Considerations
- Front-running vulnerabilities
- Race Conditions
- Timestamp manipulation
- Block Timestamp Manipulation
- Gas griefing
- Denial of service vectors
- Block number manipulation
- Randomness manipulation
- Entropy Illusion
- Storage collision
- Constructors with Care
- Uninitialised Storage Pointers
- Unchecked CALL Return Values

## Detailed Analysis
- Architecture: Contract structure and interaction patterns
- Code Quality: Best practices, documentation, and maintainability
- Centralization Risks: Detailed examination of privileged operations
- Systemic Risks: External dependencies and integration points
- Testing & Verification: Coverage and edge cases

## Final Recommendations
List of key recommendations for improving the contract security and efficiency.

## Improved Code with Security Comments
Please provide the improved version of the contract code with detailed security-related comments.
Please include full code snippets and function names in your response and make sure the logic is correct.

Format your response to clearly separate these sections, and ensure each vulnerability finding includes concrete examples from the code.`;
const SUPPER_PROMPT = `
<prompt_metadata>
Type: Smart Contract Security Analysis
Purpose: Deep Security Vulnerability Detection
Paradigm: Multi-dimensional Security Assessment
Constraints: Security Best Practices
Objective: Comprehensive security audit
</prompt_metadata>

<core>
{
  [∅] ⇔ [∞] ⇔ [0,1]
  Smart Contract Security Patterns
  ∀contract : verify(security_properties)
}
</core>

<think>
?(security_vulnerabilities) → !(security_solutions)
</think>

<approach>
while security_coverage < complete:
  improve(vulnerability_detection)
  enhance(analysis_depth)
  if new_vulnerability_pattern_found():
    document_and_analyze()
</approach>

<mission>
Analyze(all_possible_attack_vectors);
Explore(security_edge_cases);
Question(implementation_assumptions);
Seek(vulnerability_patterns);
Embrace(security_best_practices);
</mission>

<historical_analysis>
smart_contract_vulnerabilities(2015-2024),
find; correlation,
(subject + historical_exploits)
apply(security_analysis),
do (pattern_recognition, risk_assessment, mitigation_strategies)
</historical_analysis>
`;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/prompts.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createPromptWithSupperPrompt",
    ()=>createPromptWithSupperPrompt
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$prompts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/prompts.ts [app-client] (ecmascript)");
;
const createPromptWithSupperPrompt = (prompt)=>{
    return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$prompts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SUPPER_PROMPT"] + "\n\n" + prompt;
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/services/audit/contractAnalyzer.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "analyzeContract",
    ()=>analyzeContract
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$ai$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/ai.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$reportGenerator$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/reportGenerator.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$contractFilters$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/contractFilters.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$prompts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/prompts.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$prompts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/prompts.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$language$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/language.ts [app-client] (ecmascript)");
;
;
;
;
;
;
// Format AI response content
function formatAIResponse(content) {
    if (!content) return "";
    let formatted = content;
    // make sure each ### title has a newline after it
    formatted = formatted.replace(/(### [^\n]+)(\n\*\*)/g, "$1\n$2");
    // Remove "```markdown"
    formatted = formatted.replace(/```markdown/g, "");
    // Remove extra newlines (more than 2 consecutive empty lines)
    formatted = formatted.replace(/\n{3,}/g, "\n\n");
    return formatted;
}
async function analyzeContract(params) {
    const maxRetries = 3;
    let retryCount = 0;
    let lastError;
    const savedConfig = localStorage.getItem("ai_config");
    if (!savedConfig) {
        throw new Error("AI configuration not found");
    }
    const config = JSON.parse(savedConfig);
    while(retryCount < maxRetries){
        try {
            if (params.signal?.aborted) {
                throw new Error("Analysis cancelled");
            }
            // Skip filtering for multi-file mode
            let filesToAnalyze = params.isMultiFile ? params.files : params.files.filter((file)=>{
                if (file.path.includes("/interfaces/") || file.path.includes("Interface") || file.path.startsWith("IERC") || file.path.startsWith("ERC") || file.path.startsWith("EIP")) {
                    return false;
                }
                if (file.path.includes("@openzeppelin/") || file.path.includes("node_modules/") || file.path.includes("@paulrberg/")) {
                    return false;
                }
                return true;
            });
            if (filesToAnalyze.length === 0) {
                throw new Error("No contract files to analyze after filtering");
            }
            // For non-multi-file mode, handle proxy/implementation separation
            if (!params.isMultiFile) {
                const proxyFiles = filesToAnalyze.filter((f)=>f.path.startsWith("proxy/"));
                const implementationFiles = filesToAnalyze.filter((f)=>f.path.startsWith("implementation/"));
                const regularFiles = filesToAnalyze.filter((f)=>!f.path.startsWith("proxy/") && !f.path.startsWith("implementation/"));
                if (proxyFiles.length > 0 && implementationFiles.length > 0) {
                    filesToAnalyze = implementationFiles;
                } else {
                    filesToAnalyze = regularFiles;
                }
            }
            const mergedCode = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$contractFilters$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeContractContents"])(filesToAnalyze, !params.isMultiFile);
            if (!mergedCode) {
                throw new Error("No valid contract code to analyze");
            }
            // Debug: Check merged code before analysis
            // console.log("Merged code:", mergedCode);
            let finalPrompt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$language$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPromptWithLanguage"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$prompts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SECURITY_AUDIT_PROMPT"].replace("${mergedCode}", mergedCode).replace("${params.contractName ? params.contractName : ''}", params.contractName || ""), config.language);
            // if we have super prompt, add it to the final prompt
            if (config.superPrompt) {
                // console.log("Using super prompt");
                finalPrompt = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$prompts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPromptWithSupperPrompt"])(finalPrompt);
            }
            // Get AI response
            const aiResponse = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$ai$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["analyzeWithAI"])(finalPrompt, params.signal);
            if (!aiResponse) {
                throw new Error("Failed to get AI analysis response");
            }
            // Format AI response
            let formattedResponse = formatAIResponse(aiResponse);
            formattedResponse = "# Generated by [Mush Audit](https://mush-audit.vercel.app/)\n\n" + formattedResponse;
            // Generate report
            const report = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$reportGenerator$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateReport"])({
                code: mergedCode,
                files: filesToAnalyze,
                aiAnalysis: formattedResponse,
                vulnerabilities: [],
                gasOptimizations: [],
                contractName: params.contractName,
                chain: params.chain
            });
            return {
                filteredFiles: filesToAnalyze,
                vulnerabilities: [],
                optimizations: [],
                report: {
                    analysis: formattedResponse
                }
            };
        } catch (error) {
            if (error instanceof Error && error.name === "AbortError" || params.signal?.aborted) {
                throw new Error("Analysis cancelled");
            }
            lastError = error;
            retryCount++;
            // if we have retry chances, wait and retry
            if (retryCount < maxRetries) {
                console.log(`Analysis attempt ${retryCount} failed, retrying in ${retryCount * 2} seconds...`);
                await new Promise((resolve)=>setTimeout(resolve, retryCount * 2000));
                continue;
            }
            // if we have reached the maximum retry count, throw the last error
            console.error(`Analysis failed after ${maxRetries} attempts:`, error);
            throw new Error(`Analysis failed after ${maxRetries} attempts: ${error instanceof Error ? error.message : "Unknown error"}`);
        }
    }
    throw new Error(`Unexpected error: Analysis failed after ${maxRetries} attempts`);
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/services/audit/slitherAnalyzer.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Slither 分析服务
 * ================
 * 封装与 Slither Docker 微服务的通信逻辑。
 * 负责：发送合约源码 → 接收扫描结果 → 标准化输出。
 */ __turbopack_context__.s([
    "analyzeWithSlither",
    ()=>analyzeWithSlither,
    "checkSlitherHealth",
    ()=>checkSlitherHealth,
    "formatSlitherResultsAsMarkdown",
    ()=>formatSlitherResultsAsMarkdown
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
/** Slither 服务地址（Docker 容器） */ const SLITHER_SERVICE_URL = ("TURBOPACK compile-time value", "http://localhost:8545") || "http://localhost:8545";
async function checkSlitherHealth() {
    try {
        const response = await fetch(`${SLITHER_SERVICE_URL}/health`, {
            method: "GET",
            signal: AbortSignal.timeout(5000)
        });
        if (!response.ok) {
            return {
                healthy: false,
                error: `HTTP ${response.status}`
            };
        }
        const data = await response.json();
        return {
            healthy: data.status === "healthy",
            slither_version: data.slither_version,
            solc_version: data.solc_version
        };
    } catch (error) {
        return {
            healthy: false,
            error: error instanceof Error ? error.message : "Connection failed"
        };
    }
}
async function analyzeWithSlither(files, mainFile, solcVersion, signal) {
    // 准备请求数据
    const requestFiles = files.filter((f)=>f.path.endsWith(".sol")).map((f)=>({
            path: cleanFilePath(f.path),
            content: f.content
        }));
    if (requestFiles.length === 0) {
        return {
            success: false,
            findings: [],
            summary: emptySummary(),
            error: "No Solidity files found for analysis",
            duration_ms: 0
        };
    }
    // 确定主文件
    const main = mainFile ? cleanFilePath(mainFile) : findMainContract(requestFiles);
    const requestBody = {
        files: requestFiles,
        main_file: main,
        solc_version: solcVersion || undefined
    };
    try {
        const response = await fetch(`${SLITHER_SERVICE_URL}/analyze`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestBody),
            signal: signal || AbortSignal.timeout(180000)
        });
        if (!response.ok) {
            const errorText = await response.text();
            return {
                success: false,
                findings: [],
                summary: emptySummary(),
                error: `Slither service error: HTTP ${response.status} - ${errorText}`,
                duration_ms: 0
            };
        }
        const result = await response.json();
        return result;
    } catch (error) {
        if (error instanceof DOMException && error.name === "AbortError") {
            return {
                success: false,
                findings: [],
                summary: emptySummary(),
                error: "Slither analysis was cancelled",
                duration_ms: 0
            };
        }
        return {
            success: false,
            findings: [],
            summary: emptySummary(),
            error: error instanceof Error ? error.message : "Unknown error",
            duration_ms: 0
        };
    }
}
/**
 * 清理文件路径 — 移除 proxy/ 或 implementation/ 前缀
 */ function cleanFilePath(path) {
    return path.replace(/^proxy\//, "").replace(/^implementation\//, "").replace(/\\/g, "/");
}
/**
 * 从文件列表中找到主合约文件
 * 优先级：名称最短的 .sol 文件 > 第一个 .sol 文件
 */ function findMainContract(files) {
    const solFiles = files.filter((f)=>f.path.endsWith(".sol"));
    if (solFiles.length === 0) return files[0]?.path || "";
    if (solFiles.length === 1) return solFiles[0].path;
    // 排除常见库文件
    const nonLib = solFiles.filter((f)=>!f.path.includes("@openzeppelin") && !f.path.includes("solmate") && !f.path.includes("solady") && !f.path.includes("/interfaces/") && !f.path.includes("/libraries/") && !f.path.includes("/lib/"));
    const candidates = nonLib.length > 0 ? nonLib : solFiles;
    // 选择路径最短的（通常是主合约）
    return candidates.sort((a, b)=>a.path.length - b.path.length)[0].path;
}
/**
 * 生成空的摘要对象
 */ function emptySummary() {
    return {
        total: 0,
        high: 0,
        medium: 0,
        low: 0,
        informational: 0,
        optimization: 0
    };
}
function formatSlitherResultsAsMarkdown(result) {
    if (!result.success && result.error) {
        return `## Slither 静态分析\n\n> ⚠️ 分析失败: ${result.error}\n`;
    }
    if (result.findings.length === 0) {
        return `## Slither 静态分析\n\n✅ 未检测到已知漏洞模式。\n\n*分析耗时: ${result.duration_ms}ms | Slither ${result.slither_version || "unknown"} | solc ${result.solc_version || "unknown"}*\n`;
    }
    const lines = [];
    lines.push("## Slither 静态分析结果\n");
    lines.push(`*检测到 **${result.summary.total}** 个发现 | 分析耗时: ${result.duration_ms}ms | Slither ${result.slither_version || "unknown"} | solc ${result.solc_version || "unknown"}*\n`);
    // 摘要表格
    lines.push("### 摘要\n");
    lines.push("| 严重度 | 数量 |");
    lines.push("|--------|------|");
    if (result.summary.high > 0) lines.push(`| 🔴 High | ${result.summary.high} |`);
    if (result.summary.medium > 0) lines.push(`| 🟠 Medium | ${result.summary.medium} |`);
    if (result.summary.low > 0) lines.push(`| 🟡 Low | ${result.summary.low} |`);
    if (result.summary.informational > 0) lines.push(`| 🔵 Informational | ${result.summary.informational} |`);
    if (result.summary.optimization > 0) lines.push(`| ⚪ Optimization | ${result.summary.optimization} |`);
    lines.push("");
    // 按严重度分组
    const impactOrder = [
        "High",
        "Medium",
        "Low",
        "Informational",
        "Optimization"
    ];
    for (const impact of impactOrder){
        const group = result.findings.filter((f)=>f.impact === impact);
        if (group.length === 0) continue;
        const emoji = impact === "High" ? "🔴" : impact === "Medium" ? "🟠" : impact === "Low" ? "🟡" : impact === "Informational" ? "🔵" : "⚪";
        lines.push(`### ${emoji} ${impact} Severity\n`);
        for (const finding of group){
            lines.push(`#### ${finding.check}\n`);
            lines.push(finding.description.trim());
            lines.push("");
            // 代码位置
            if (finding.elements && finding.elements.length > 0) {
                const locations = finding.elements.filter((e)=>e.source_mapping?.filename_relative && e.source_mapping?.lines?.length > 0).map((e)=>`- \`${e.source_mapping?.filename_relative}\` (lines ${e.source_mapping?.lines?.[0]}-${e.source_mapping?.lines?.[e.source_mapping.lines.length - 1]})`);
                if (locations.length > 0) {
                    lines.push("**位置:**");
                    lines.push(...locations);
                    lines.push("");
                }
            }
        }
    }
    return lines.join("\n");
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/types/slither.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Slither 静态分析相关类型定义
 * 
 * 参考: https://github.com/crytic/slither/wiki/JSON-output
 * 参考: SWC Registry (https://swcregistry.io/)
 */ /** Slither 检测到的代码元素 */ __turbopack_context__.s([
    "SLITHER_TO_SWC",
    ()=>SLITHER_TO_SWC,
    "mapSlitherImpactToSeverity",
    ()=>mapSlitherImpactToSeverity
]);
function mapSlitherImpactToSeverity(impact) {
    switch(impact){
        case "High":
            return "Critical";
        case "Medium":
            return "Medium";
        case "Low":
            return "Low";
        case "Informational":
            return "Informational";
        case "Optimization":
            return "Gas Optimization";
        default:
            return "Unknown";
    }
}
const SLITHER_TO_SWC = {
    "reentrancy-eth": "SWC-107",
    "reentrancy-no-eth": "SWC-107",
    "reentrancy-benign": "SWC-107",
    "reentrancy-events": "SWC-107",
    "unchecked-lowlevel": "SWC-104",
    "unchecked-send": "SWC-104",
    "unprotected-upgrade": "SWC-105",
    "suicidal": "SWC-106",
    "tx-origin": "SWC-115",
    "uninitialized-storage": "SWC-109",
    "uninitialized-state": "SWC-109",
    "uninitialized-local": "SWC-109",
    "timestamp": "SWC-116",
    "shadowing-state": "SWC-119",
    "shadowing-local": "SWC-119",
    "controlled-delegatecall": "SWC-112",
    "arbitrary-send-erc20": "SWC-105",
    "arbitrary-send-eth": "SWC-105",
    "locked-ether": "SWC-132",
    "incorrect-equality": "SWC-132",
    "write-after-write": "SWC-110"
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/services/audit/findingFusion.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "formatFusionReport",
    ()=>formatFusionReport,
    "fuseResults",
    ()=>fuseResults,
    "normSlither",
    ()=>normSlither,
    "parseAIFindings",
    ()=>parseAIFindings
]);
/**
 * Finding Fusion Engine - dedup, cross-validate, score findings
 * Ref: Dietterich "Ensemble Methods in ML" MCS 2000
 * Ref: SWC Registry https://swcregistry.io/
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$types$2f$slither$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/types/slither.ts [app-client] (ecmascript)");
;
const VULN_CAT = {
    reentrancy: [
        "reentrancy",
        "reentrant",
        "re-entrant",
        "recursive call",
        "CEI"
    ],
    "access-control": [
        "access control",
        "authorization",
        "permission",
        "onlyowner",
        "privileged",
        "unprotected",
        "tx.origin"
    ],
    "integer-overflow": [
        "overflow",
        "underflow",
        "integer",
        "arithmetic",
        "SafeMath"
    ],
    "unchecked-call": [
        "unchecked return",
        "unchecked call",
        "unchecked send",
        "low-level call",
        "return value"
    ],
    "oracle-manipulation": [
        "oracle",
        "price manipulation",
        "flash loan",
        "sandwich",
        "frontrun",
        "MEV"
    ],
    timestamp: [
        "timestamp",
        "block.timestamp",
        "time dependence"
    ],
    delegatecall: [
        "delegatecall",
        "proxy",
        "storage collision"
    ],
    dos: [
        "denial of service",
        "DoS",
        "gas limit",
        "unbounded loop"
    ],
    "token-issue": [
        "ERC20",
        "ERC721",
        "approve",
        "allowance",
        "fee-on-transfer",
        "rebasing"
    ],
    initialization: [
        "uninitiali",
        "constructor",
        "initializ"
    ],
    shadowing: [
        "shadow",
        "shadowing"
    ],
    gas: [
        "gas",
        "optimization",
        "optimize",
        "immutable",
        "constant"
    ]
};
const CHECK_CAT = {
    "reentrancy-eth": "reentrancy",
    "reentrancy-no-eth": "reentrancy",
    "reentrancy-benign": "reentrancy",
    "reentrancy-events": "reentrancy",
    "unchecked-lowlevel": "unchecked-call",
    "unchecked-send": "unchecked-call",
    "unprotected-upgrade": "access-control",
    "suicidal": "access-control",
    "tx-origin": "access-control",
    "uninitialized-storage": "initialization",
    "uninitialized-state": "initialization",
    "uninitialized-local": "initialization",
    timestamp: "timestamp",
    "shadowing-state": "shadowing",
    "shadowing-local": "shadowing",
    "controlled-delegatecall": "delegatecall",
    "arbitrary-send-erc20": "access-control",
    "arbitrary-send-eth": "access-control",
    "locked-ether": "dos",
    "write-after-write": "gas"
};
function classify(text) {
    const lower = text.toLowerCase();
    for (const [cat, kws] of Object.entries(VULN_CAT)){
        for (const kw of kws){
            if (lower.includes(kw.toLowerCase())) return cat;
        }
    }
    return undefined;
}
function extractField(text, field) {
    const re = new RegExp("[-*]*\\s*\\*\\*" + field + ":?\\*\\*:?\\s*(.+?)(?=\\n[-*]*\\s*\\*\\*|\\n###|\\n---|$)", "is");
    const m = text.match(re);
    return m ? m[1].replace(/\n/g, " ").replace(/\s+/g, " ").trim() : null;
}
function isNonFinding(title) {
    const skip = [
        "about",
        "overview",
        "summary",
        "introduction",
        "detailed analysis",
        "architecture",
        "code quality",
        "final recommendation",
        "improved code",
        "conclusion",
        "centralization",
        "systemic",
        "testing",
        "severity breakdown"
    ];
    const l = title.toLowerCase();
    return skip.some((s)=>l.includes(s));
}
function normSev(raw) {
    const l = raw.toLowerCase().trim();
    if (l.includes("critical")) return "Critical";
    if (l.includes("high")) return "High";
    if (l.includes("medium")) return "Medium";
    if (l.includes("low")) return "Low";
    if (l.includes("info")) return "Informational";
    if (l.includes("gas") || l.includes("optim")) return "Gas";
    return "Medium";
}
function impactToSev(impact) {
    const m = {
        High: "High",
        Medium: "Medium",
        Low: "Low",
        Informational: "Informational",
        Optimization: "Gas"
    };
    return m[impact] || "Medium";
}
function higherSev(a, b) {
    const o = [
        "Critical",
        "High",
        "Medium",
        "Low",
        "Informational",
        "Gas"
    ];
    return o.indexOf(a) <= o.indexOf(b) ? a : b;
}
function fmtCheck(check) {
    return check.split("-").map((w)=>w.charAt(0).toUpperCase() + w.slice(1)).join(" ");
}
function getFiles(loc) {
    return loc.match(/[\w/.-]+\.sol/g) || [];
}
function tokenize(t) {
    return t.toLowerCase().replace(/[^a-z0-9\s]/g, " ").split(/\s+/).filter((w)=>w.length > 2);
}
function matchScore(a, b) {
    let s = 0;
    if (a.category && b.category && a.category === b.category) s += 0.5;
    if (a.location && b.location) {
        const af = getFiles(a.location);
        const bf = getFiles(b.location);
        if (af.some((x)=>bf.some((y)=>x === y || x.includes(y) || y.includes(x)))) {
            s += 0.3;
        }
    }
    const aw = tokenize(a.title + " " + a.description);
    const bw = tokenize(b.title + " " + b.description);
    const inter = aw.filter((w)=>bw.includes(w));
    s += inter.length / (new Set([
        ...aw,
        ...bw
    ]).size || 1) * 0.2;
    return Math.min(s, 1);
}
function parseAIFindings(report) {
    if (!report) return [];
    const out = [];
    for (const sec of report.split(/(?=^###\s)/m)){
        const t = sec.trim();
        if (!t || !t.startsWith("###")) continue;
        const tm = t.match(/^###\s+(.+?)$/m);
        if (!tm) continue;
        const raw = tm[1].replace(/\[|\]/g, "").replace(/^\d+\.\s*/, "").trim();
        if (isNonFinding(raw)) continue;
        const sev = extractField(t, "Severity");
        const title = extractField(t, "Title") || raw;
        if (!title || !sev) continue;
        out.push({
            id: "ai-" + (out.length + 1),
            title,
            severity: normSev(sev),
            description: extractField(t, "Description") || t,
            impact: extractField(t, "Impact") || undefined,
            location: extractField(t, "Location") || undefined,
            recommendation: extractField(t, "Recommendation") || undefined,
            sources: [
                "ai"
            ],
            confidence: "medium",
            category: classify(title + " " + (extractField(t, "Description") || ""))
        });
    }
    return out;
}
function normSlither(result) {
    if (!result.success || !result.findings.length) return [];
    return result.findings.map((f, i)=>{
        const locs = f.elements.filter((e)=>e.source_mapping?.filename_relative && e.source_mapping?.lines?.length).map((e)=>{
            const sm = e.source_mapping;
            return sm.filename_relative + ":" + sm.lines[0] + "-" + sm.lines[sm.lines.length - 1];
        });
        return {
            id: "slither-" + (i + 1),
            title: fmtCheck(f.check),
            severity: impactToSev(f.impact),
            description: f.description,
            location: locs.length ? locs.join(", ") : undefined,
            sources: [
                "slither"
            ],
            confidence: f.confidence === "Low" ? "low" : "medium",
            slitherCheck: f.check,
            swcId: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$types$2f$slither$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SLITHER_TO_SWC"][f.check],
            category: CHECK_CAT[f.check] || classify(f.description)
        };
    });
}
function fuseResults(slitherResult, aiReport) {
    const sf = slitherResult ? normSlither(slitherResult) : [];
    const af = aiReport ? parseAIFindings(aiReport) : [];
    const used = new Set();
    const merged = [];
    let xc = 0;
    for (const s of sf){
        let best = null;
        for(let i = 0; i < af.length; i++){
            if (used.has(i)) continue;
            const sc = matchScore(s, af[i]);
            if (sc > 0.5 && (!best || sc > best.sc)) best = {
                i,
                sc
            };
        }
        if (best) {
            used.add(best.i);
            xc++;
            const a = af[best.i];
            merged.push({
                id: "fused-" + (merged.length + 1),
                title: a.title || s.title,
                severity: higherSev(s.severity, a.severity),
                description: a.description + "\n\n**Slither:** " + s.description,
                impact: a.impact,
                location: s.location || a.location,
                recommendation: a.recommendation,
                sources: [
                    "slither",
                    "ai"
                ],
                confidence: "high",
                slitherCheck: s.slitherCheck,
                swcId: s.swcId,
                category: s.category || a.category
            });
        } else {
            merged.push(s);
        }
    }
    for(let i = 0; i < af.length; i++){
        if (!used.has(i)) merged.push(af[i]);
    }
    const ord = {
        Critical: 0,
        High: 1,
        Medium: 2,
        Low: 3,
        Informational: 4,
        Gas: 5
    };
    merged.sort((a, b)=>ord[a.severity] - ord[b.severity] || b.sources.length - a.sources.length);
    const bySev = {
        Critical: 0,
        High: 0,
        Medium: 0,
        Low: 0,
        Informational: 0,
        Gas: 0
    };
    const byCon = {
        high: 0,
        medium: 0,
        low: 0
    };
    let so = 0, ao = 0, bo = 0;
    for (const f of merged){
        bySev[f.severity]++;
        byCon[f.confidence]++;
        if (f.sources.length === 2) bo++;
        else if (f.sources.includes("slither")) so++;
        else ao++;
    }
    return {
        findings: merged,
        summary: {
            total: merged.length,
            bySeverity: bySev,
            bySource: {
                slitherOnly: so,
                aiOnly: ao,
                both: bo
            },
            byConfidence: byCon
        },
        metadata: {
            slitherFindingsCount: sf.length,
            aiFindingsCount: af.length,
            deduplicatedCount: xc,
            crossValidatedCount: xc
        }
    };
}
function fmtF(f) {
    const src = f.sources.length === 2 ? "**[Slither + AI]**" : f.sources.includes("slither") ? "**[Slither]**" : "**[AI]**";
    const conf = f.confidence === "high" ? "High" : f.confidence === "medium" ? "Medium" : "Low";
    const p = [
        "#### " + f.title,
        "- **Severity:** " + f.severity,
        "- **Source:** " + src + " | " + conf + " Confidence"
    ];
    if (f.swcId) p.push("- **SWC:** [" + f.swcId + "](https://swcregistry.io/docs/" + f.swcId + ")");
    if (f.description) p.push("- **Description:** " + f.description.substring(0, 500));
    if (f.impact) p.push("- **Impact:** " + f.impact);
    if (f.location) p.push("- **Location:** `" + f.location + "`");
    if (f.recommendation) p.push("- **Recommendation:** " + f.recommendation);
    return p.join("\n");
}
function formatFusionReport(fusion, name, engines, slither, ai) {
    const L = [];
    const { findings, summary: su, metadata: m } = fusion;
    L.push("# Smart Contract Security Audit Report\n");
    L.push("**Contract**: " + name + "  ");
    L.push("**Engines**: " + (engines.join(" + ") || "None") + "  ");
    L.push("**Time**: " + new Date().toISOString() + "  ");
    L.push("**Tool**: Mush Audit - Dual-Engine Vulnerability Scanner\n");
    L.push("---\n");
    L.push("## Dual-Engine Overview\n");
    L.push("| Metric | Count |");
    L.push("|--------|-------|");
    L.push("| Total | **" + su.total + "** |");
    L.push("| Cross-Validated | **" + su.bySource.both + "** |");
    L.push("| Slither Only | " + su.bySource.slitherOnly + " |");
    L.push("| AI Only | " + su.bySource.aiOnly + " |");
    L.push("| High Confidence | " + su.byConfidence.high + " |");
    L.push("| Deduplicated | " + m.deduplicatedCount + " |\n");
    L.push("### Severity\n");
    L.push("| Level | Count |");
    L.push("|-------|-------|");
    for (const [k, v] of Object.entries(su.bySeverity)){
        if (v > 0) L.push("| " + k + " | " + v + " |");
    }
    L.push("");
    const cv = findings.filter((f)=>f.sources.length === 2);
    if (cv.length) {
        L.push("---\n");
        L.push("## Cross-Validated (High Confidence)\n");
        L.push("> Detected by **both** engines.\n");
        for (const f of cv)L.push(fmtF(f) + "\n");
    }
    L.push("---\n");
    L.push("## All Findings\n");
    const sevs = [
        "Critical",
        "High",
        "Medium",
        "Low",
        "Informational",
        "Gas"
    ];
    for (const sev of sevs){
        const g = findings.filter((f)=>f.severity === sev);
        if (!g.length) continue;
        L.push("### " + sev + " (" + g.length + ")\n");
        for (const f of g)L.push(fmtF(f) + "\n");
    }
    if (ai) {
        L.push("---\n");
        L.push("## Appendix: AI Report\n");
        const c = ai.replace(/^#\s+.*?(Security|Audit|Report|Analysis|Generated).*$/gim, "").replace(/^\s*---\s*$/gm, "").trim();
        L.push(c + "\n");
    }
    if (slither?.success && slither.findings.length) {
        L.push("---\n");
        L.push("## Appendix: Slither Raw\n");
        L.push("*" + slither.summary.total + " findings | " + slither.duration_ms + "ms*\n");
        for (const f of slither.findings){
            L.push("- **[" + f.impact + "]** `" + f.check + "`: " + f.description.trim().substring(0, 200));
        }
        L.push("");
    }
    L.push("---\n");
    L.push("> *Generated by Mush Audit. Cross-validated findings have higher confidence. Manual review recommended.*");
    return L.join("\n");
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/services/audit/dualEngineAnalyzer.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Dual-Engine Fusion Analyzer
 * ===========================
 * Runs Slither (static) and AI (LLM) engines in parallel,
 * then fuses results using dedup + cross-validation.
 *
 * Ref: Feist et al., "Slither: A Static Analysis Framework", WETSEB 2019
 * Ref: David et al., "Do you still need a manual smart contract audit?", arXiv 2023
 */ __turbopack_context__.s([
    "analyzeDualEngine",
    ()=>analyzeDualEngine
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$slitherAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/slitherAnalyzer.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$contractAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/contractAnalyzer.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$findingFusion$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/findingFusion.ts [app-client] (ecmascript)");
;
;
;
async function analyzeDualEngine(files, config, contractName, onProgress, signal) {
    const startTime = Date.now();
    let slitherResult = null;
    let aiReport = null;
    let slitherAvailable = false;
    let slitherDurationMs = 0;
    let aiDurationMs = 0;
    const healthCheck = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$slitherAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["checkSlitherHealth"])();
    slitherAvailable = healthCheck.healthy;
    const promises = [];
    if (slitherAvailable) {
        onProgress?.({
            stage: "slither",
            message: "Slither engine starting...",
            slitherDone: false,
            aiDone: false,
            percent: 10
        });
        const slitherPromise = (async ()=>{
            const slitherStart = Date.now();
            try {
                slitherResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$slitherAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["analyzeWithSlither"])(files, undefined, undefined, signal);
                slitherDurationMs = Date.now() - slitherStart;
                onProgress?.({
                    stage: "slither",
                    message: `Slither done: ${slitherResult.summary.total} findings (${slitherDurationMs}ms)`,
                    slitherDone: true,
                    aiDone: false,
                    percent: 40
                });
            } catch (error) {
                slitherDurationMs = Date.now() - slitherStart;
                console.error("Slither analysis error:", error);
                slitherResult = {
                    success: false,
                    findings: [],
                    summary: {
                        total: 0,
                        high: 0,
                        medium: 0,
                        low: 0,
                        informational: 0,
                        optimization: 0
                    },
                    error: error instanceof Error ? error.message : "Slither failed",
                    duration_ms: slitherDurationMs
                };
            }
        })();
        promises.push(slitherPromise);
    } else {
        onProgress?.({
            stage: "slither",
            message: "Slither unavailable, using AI only",
            slitherDone: true,
            aiDone: false,
            percent: 10
        });
    }
    onProgress?.({
        stage: "ai",
        message: "AI deep audit starting...",
        slitherDone: slitherAvailable ? false : true,
        aiDone: false,
        percent: 20
    });
    const aiPromise = (async ()=>{
        const aiStart = Date.now();
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$contractAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["analyzeContract"])({
                files,
                contractName,
                signal
            });
            aiDurationMs = Date.now() - aiStart;
            if (result && result.report && result.report.analysis) {
                aiReport = result.report.analysis;
            }
            onProgress?.({
                stage: "ai",
                message: `AI done (${aiDurationMs}ms)`,
                slitherDone: true,
                aiDone: true,
                percent: 80
            });
        } catch (error) {
            aiDurationMs = Date.now() - aiStart;
            console.error("AI analysis error:", error);
            aiReport = null;
        }
    })();
    promises.push(aiPromise);
    await Promise.allSettled(promises);
    onProgress?.({
        stage: "merging",
        message: "Fusing dual-engine results...",
        slitherDone: true,
        aiDone: true,
        percent: 90
    });
    const enginesUsed = [];
    const finalSlitherResult = slitherResult;
    if (finalSlitherResult && finalSlitherResult.success) enginesUsed.push("Slither");
    if (aiReport) enginesUsed.push("AI (LLM)");
    const fusionResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$findingFusion$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fuseResults"])(finalSlitherResult, aiReport);
    const mergedReport = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$findingFusion$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatFusionReport"])(fusionResult, contractName, enginesUsed, finalSlitherResult, aiReport);
    const totalDurationMs = Date.now() - startTime;
    onProgress?.({
        stage: "done",
        message: `Done: ${enginesUsed.length} engines, ${totalDurationMs}ms`,
        slitherDone: true,
        aiDone: true,
        percent: 100
    });
    return {
        mergedReport,
        slitherResult: finalSlitherResult,
        aiReport,
        fusionResult,
        metadata: {
            slitherAvailable,
            slitherDurationMs,
            aiDurationMs,
            totalDurationMs,
            enginesUsed
        }
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/components/audit/SourcePreview.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>SourcePreview
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$prismjs$2f$prism$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/prismjs/prism.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$prismjs$2f$components$2f$prism$2d$solidity$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/prismjs/components/prism-solidity.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$prismjs$2f$plugins$2f$line$2d$numbers$2f$prism$2d$line$2d$numbers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$FileExplorer$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/audit/FileExplorer.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$ProxyContractAlert$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/audit/ProxyContractAlert.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$PathBreadcrumb$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/audit/PathBreadcrumb.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$jszip$2f$lib$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/jszip/lib/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$file$2d$saver$2f$dist$2f$FileSaver$2e$min$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/file-saver/dist/FileSaver.min.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$markdown$2f$lib$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Markdown__as__default$3e$__ = __turbopack_context__.i("[project]/node_modules/react-markdown/lib/index.js [app-client] (ecmascript) <export Markdown as default>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$readme$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/readme.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/config.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$AIConfigModal$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/audit/AIConfigModal.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/react-hot-toast/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$contractAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/contractAnalyzer.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$dualEngineAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/dualEngineAnalyzer.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$slitherAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/services/audit/slitherAnalyzer.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$ai$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/ai.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$html2canvas$2f$dist$2f$html2canvas$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/html2canvas/dist/html2canvas.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$marked$2f$lib$2f$marked$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/marked/lib/marked.esm.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
// Remove duplicate markdown headers
function removeDuplicateHeaders(content) {
    const lines = content.split("\n");
    const seenHeaders = new Set();
    const result = [];
    for(let i = 0; i < lines.length; i++){
        const line = lines[i];
        if (line.match(/^#{1,6}\s+/)) {
            // Extract header text (without # symbols)
            const headerText = line.replace(/^#{1,6}\s+/, "").trim();
            if (!seenHeaders.has(headerText)) {
                seenHeaders.add(headerText);
                result.push(line);
            }
        } else {
            result.push(line);
        }
    }
    return result.join("\n");
}
// Add save as image function
const handleSaveAsImage = async (content, fileName)=>{
    // Create a temporary div to render Markdown
    const tempDiv = document.createElement("div");
    tempDiv.style.cssText = `
    position: fixed;
    top: -9999px;
    left: -9999px;
    width: 800px;
    padding: 20px;
    background: #1A1A1A;
    color: #E5E5E5;
    font-family: system-ui, -apple-system, sans-serif;
  `;
    document.body.appendChild(tempDiv);
    // Render Markdown content
    tempDiv.innerHTML = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$marked$2f$lib$2f$marked$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["marked"])(content);
    try {
        const canvas = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$html2canvas$2f$dist$2f$html2canvas$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(tempDiv, {
            backgroundColor: "#1A1A1A",
            scale: 2,
            useCORS: true,
            logging: false
        });
        const link = document.createElement("a");
        link.download = `${fileName.replace(".md", "")}.png`;
        link.href = canvas.toDataURL("image/png");
        link.click();
    } catch (error) {
        console.error("Error generating image:", error);
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("Failed to generate image");
    } finally{
        document.body.removeChild(tempDiv);
    }
};
function SourcePreview({ files: initialFiles, onAnalyze, contractName, compiler, optimization, runs, chainId, address, implementationAddress, implementationInfo, evmVersion, tokenName, creationCode, deployedBytecode, abi, implementationAbi, creator, creationTxHash }) {
    _s();
    const [files, setFiles] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(initialFiles);
    const [selectedFile, setSelectedFile] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(files[0]);
    const [isWrapped, setIsWrapped] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(true);
    const [showProxyAlert, setShowProxyAlert] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [contractType, setContractType] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("proxy");
    const [showRawReadme, setShowRawReadme] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [showAIConfig, setShowAIConfig] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isAnalyzing, setIsAnalyzing] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [abortController, setAbortController] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [slitherAvailable, setSlitherAvailable] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [analysisProgress, setAnalysisProgress] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const codeRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const preRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const { config } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$ai$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useAIConfig"])();
    // Only check once when the component mounts
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "SourcePreview.useEffect": ()=>{
            const shouldShowAlert = files.some({
                "SourcePreview.useEffect": (f)=>f.path.startsWith("proxy/")
            }["SourcePreview.useEffect"]) && files.some({
                "SourcePreview.useEffect": (f)=>f.path.startsWith("implementation/")
            }["SourcePreview.useEffect"]);
            if (shouldShowAlert) {
                setShowProxyAlert(true);
            }
            // 检查 Slither 服务是否可用
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$slitherAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["checkSlitherHealth"])().then({
                "SourcePreview.useEffect": (health)=>{
                    setSlitherAvailable(health.healthy);
                    if (health.healthy) {
                        console.log(`Slither service online: ${health.slither_version}`);
                    }
                }
            }["SourcePreview.useEffect"]);
        }
    }["SourcePreview.useEffect"], []); // Empty dependency array, only run when mounted
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "SourcePreview.useEffect": ()=>{
            if (codeRef.current && preRef.current) {
                preRef.current.classList.add("line-numbers");
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$prismjs$2f$prism$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].highlightElement(codeRef.current);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$prismjs$2f$prism$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].plugins.lineNumbers.resize(preRef.current);
            }
        }
    }["SourcePreview.useEffect"], [
        selectedFile
    ]);
    // Build Blockscan URL
    const getBlockscanUrl = ()=>{
        if (!chainId || !address) return null;
        return `https://vscode.blockscan.com/${chainId}/${address}`;
    };
    // Add file tree formatting function
    const formatFileTree = (files)=>{
        const tree = {};
        // Build tree structure
        files.forEach((path)=>{
            const parts = path.split("/");
            let current = tree;
            parts.forEach((part, i)=>{
                if (i === parts.length - 1) {
                    current[part] = null;
                } else {
                    current[part] = current[part] || {};
                    current = current[part];
                }
            });
        });
        // Recursively generate tree string
        const printTree = (node, prefix = "", isLast = true)=>{
            let result = "";
            const entries = Object.entries(node);
            entries.forEach(([key, value], index)=>{
                const isLastEntry = index === entries.length - 1;
                const linePrefix = prefix + (isLast ? "└── " : "├── ");
                const nextPrefix = prefix + (isLast ? "    " : "│   ");
                result += linePrefix + key + "\n";
                if (value !== null) {
                    result += printTree(value, nextPrefix, isLastEntry);
                }
            });
            return result;
        };
        return printTree(tree);
    };
    // Add download source code function
    const handleDownloadSource = async ()=>{
        const zip = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$jszip$2f$lib$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"]();
        // Add contract files
        files.forEach((file)=>{
            zip.file(file.path, file.content);
        });
        // Add README.md
        const readmeContent = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$readme$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateReadme"])({
            files,
            tokenName,
            proxyInfo: {
                contractName,
                compiler,
                optimization,
                runs,
                evmVersion,
                address,
                chainId,
                creationCode,
                deployedBytecode,
                creator,
                creationTxHash
            },
            implementationInfo: implementationInfo ? {
                ...implementationInfo
            } : undefined,
            implementationAddress
        });
        zip.file("README.md", readmeContent);
        // Check if it's a proxy contract
        const hasProxy = files.some((f)=>f.path.startsWith("proxy/"));
        const hasImplementation = files.some((f)=>f.path.startsWith("implementation/"));
        if (hasProxy && hasImplementation) {
            // Add proxy contract configuration file and ABI
            const proxyConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateConfig"])({
                contractName,
                compiler,
                optimization,
                runs,
                evmVersion,
                creationCode,
                deployedBytecode
            });
            zip.file("proxy/config.json", (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatConfig"])(proxyConfig));
            zip.file("proxy/abi.json", JSON.stringify(abi || [], null, 2));
            // Add implementation contract configuration file and ABI
            const implConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateConfig"])({
                contractName: implementationInfo?.contractName || "",
                compiler: implementationInfo?.compiler || "",
                optimization: implementationInfo?.optimization || false,
                runs: implementationInfo?.runs || 200,
                evmVersion: implementationInfo?.evmVersion,
                creationCode: implementationInfo?.creationCode,
                deployedBytecode: implementationInfo?.deployedBytecode
            });
            zip.file("implementation/config.json", (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatConfig"])(implConfig));
            zip.file("implementation/abi.json", JSON.stringify(implementationAbi || [], null, 2));
        } else {
            // Non-proxy contract, only add one configuration file and ABI
            const config = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateConfig"])({
                contractName,
                compiler,
                optimization,
                runs,
                evmVersion,
                creationCode,
                deployedBytecode
            });
            zip.file("config.json", (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$config$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatConfig"])(config));
            zip.file("abi.json", JSON.stringify(abi || [], null, 2));
        }
        try {
            const content = await zip.generateAsync({
                type: "blob"
            });
            const fileName = `${tokenName || implementationInfo?.contractName || contractName}-source.zip`;
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$file$2d$saver$2f$dist$2f$FileSaver$2e$min$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["saveAs"])(content, fileName);
        } catch (error) {
            console.error("Error creating zip file:", error);
        }
    };
    const handleViewImplementation = ()=>{
        setContractType("implementation");
        const implFile = files.find((f)=>f.path.startsWith("implementation/"));
        if (implFile) {
            setSelectedFile(implFile);
        }
    };
    // Handle start analysis button click
    const handleAnalyzeClick = ()=>{
        setShowAIConfig(true);
    };
    // Handle analysis after AI configuration is complete
    const handleStartAnalysis = async ()=>{
        try {
            setIsAnalyzing(true);
            setShowAIConfig(false);
            setAnalysisProgress(null);
            const controller = new AbortController();
            setAbortController(controller);
            // 检查 Slither 是否可用，决定使用哪种分析模式
            const currentConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$ai$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getAIConfig"])(config);
            // Check if it's a proxy contract
            const isProxy = files.some((f)=>f.path.startsWith("proxy/")) && files.some((f)=>f.path.startsWith("implementation/"));
            // Determine report file name based on contract type
            const reportContractName = isProxy ? tokenName || implementationInfo?.contractName || contractName : contractName;
            let analysisContent;
            if (slitherAvailable) {
                // ═══ 双引擎模式 ═══
                const dualResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$dualEngineAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["analyzeDualEngine"])(files, currentConfig, reportContractName, (progress)=>setAnalysisProgress(progress), controller.signal);
                analysisContent = dualResult.mergedReport;
                const engines = dualResult.metadata.enginesUsed.join(" + ");
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].success(`双引擎分析完成 (${engines})`, {
                    duration: 5000
                });
            } else {
                // ═══ 仅 AI 模式（回退） ═══
                setAnalysisProgress({
                    stage: "ai",
                    message: "AI 引擎分析中（Slither 不可用）...",
                    slitherDone: true,
                    aiDone: false,
                    percent: 30
                });
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$services$2f$audit$2f$contractAnalyzer$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["analyzeContract"])({
                    files,
                    contractName: reportContractName,
                    chain: chainId,
                    signal: controller.signal
                });
                analysisContent = result.report.analysis;
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].success("AI 分析完成");
            }
            // Check if there's a main title, if not add it
            if (!analysisContent.match(/^#\s+/m)) {
                analysisContent = `# Smart Contract Security Analysis Report\n\n${analysisContent}`;
            }
            // Remove duplicate titles
            analysisContent = removeDuplicateHeaders(analysisContent);
            // Create report.md file with contract name
            let languageCfg = currentConfig.language;
            if (languageCfg === "english") {
                languageCfg = "";
            } else {
                languageCfg = `-${languageCfg}`;
            }
            let withSuperPrompt = currentConfig.superPrompt ? "-SuperPrompt" : "";
            const engineSuffix = slitherAvailable ? "-dual" : "";
            const reportFileName = `report-${reportContractName.toLowerCase()}-${(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$ai$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getModelName"])(currentConfig)}${languageCfg}${withSuperPrompt}${engineSuffix}.md`;
            const reportFile = {
                name: reportFileName,
                path: reportFileName,
                content: analysisContent
            };
            setFiles((prevFiles)=>{
                // Delete old reports for the same model
                const filesWithoutCurrentModelReport = prevFiles.filter((f)=>f.path !== reportFileName);
                // Append new report file
                return [
                    ...filesWithoutCurrentModelReport,
                    reportFile
                ];
            });
            // Display new report
            setSelectedFile(reportFile);
        } catch (error) {
            if (error instanceof Error && (error.name === "AbortError" || error.message === "Analysis cancelled")) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].success("Analysis cancelled");
            } else {
                console.error("Error in analysis:", error);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].error("Error during analysis");
            }
        } finally{
            setIsAnalyzing(false);
            setAbortController(null);
            setAnalysisProgress(null);
        }
    };
    // Add cancel analysis function
    const handleCancelAnalysis = ()=>{
        if (abortController) {
            abortController.abort();
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "fixed inset-0 bg-[#1E1E1E]",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "absolute top-0 left-0 right-0 h-14 bg-[#252526] border-b border-[#1E1E1E] flex items-center justify-between px-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-4",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                            href: "/",
                            className: "flex items-center gap-2 hover:opacity-80 transition-opacity",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    src: "/mush.png",
                                    alt: "Mush Audit",
                                    width: 28,
                                    height: 28,
                                    className: "w-7 h-7"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 482,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-xl font-bold text-[#E5E5E5]",
                                    children: [
                                        "Mush ",
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-[#FF8B3E]",
                                            children: "Audit"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                            lineNumber: 490,
                                            columnNumber: 20
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 489,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                            lineNumber: 478,
                            columnNumber: 11
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                        lineNumber: 477,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-3",
                        children: [
                            getBlockscanUrl() && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("a", {
                                href: getBlockscanUrl(),
                                target: "_blank",
                                rel: "noopener noreferrer",
                                className: "group relative inline-flex items-center gap-2 px-4 py-1.5 bg-[#252526] rounded-lg text-[#CCCCCC] text-sm border border-[#404040] transition-all duration-300 hover:bg-[#2A2A2A] hover:border-[#505050]",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: "w-4 h-4",
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                            lineNumber: 513,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 507,
                                        columnNumber: 15
                                    }, this),
                                    "View on Blockscan"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                lineNumber: 497,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: handleDownloadSource,
                                className: "group relative inline-flex items-center gap-2 px-4 py-1.5 bg-[#252526] rounded-lg text-[#CCCCCC] text-sm border border-[#404040] transition-all duration-300 hover:bg-[#2A2A2A] hover:border-[#505050]",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: "w-4 h-4",
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                            lineNumber: 537,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 531,
                                        columnNumber: 13
                                    }, this),
                                    "Download Source"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                lineNumber: 523,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: `flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs
                         ${slitherAvailable ? "bg-green-500/10 text-green-400 border border-green-500/20" : "bg-[#333333] text-gray-500 border border-[#404040]"}`,
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: `w-2 h-2 rounded-full ${slitherAvailable ? "bg-green-400" : "bg-gray-500"}`
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 551,
                                        columnNumber: 13
                                    }, this),
                                    "Slither ",
                                    slitherAvailable ? "Online" : "Offline"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                lineNumber: 547,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: handleAnalyzeClick,
                                className: "group relative inline-flex items-center gap-2 px-8 py-1.5 bg-[#252526] rounded-lg text-[#FF8B3E] text-sm font-medium border border-[#FF8B3E]/20 transition-all duration-300 ease-out hover:bg-[#FF8B3E]/10",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: "w-4 h-4",
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                            lineNumber: 568,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 562,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "relative z-10",
                                        children: slitherAvailable ? "Dual Engine Analysis" : "Start Analysis"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 575,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                lineNumber: 554,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                        lineNumber: 495,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                lineNumber: 476,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "absolute top-14 bottom-0 left-0 right-0 flex",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$FileExplorer$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        files: files,
                        onFileSelect: setSelectedFile,
                        selectedFile: selectedFile,
                        showImplementation: contractType === "implementation",
                        contractType: contractType,
                        onContractTypeChange: setContractType,
                        isWrapped: isWrapped,
                        onWrapChange: setIsWrapped,
                        contractName: contractName,
                        compiler: compiler,
                        optimization: optimization,
                        runs: runs,
                        chainId: chainId,
                        address: address,
                        implementationAddress: implementationAddress,
                        implementationInfo: implementationInfo,
                        evmVersion: evmVersion,
                        tokenName: tokenName,
                        creationCode: creationCode,
                        deployedBytecode: deployedBytecode,
                        abi: abi,
                        implementationAbi: implementationAbi,
                        creator: creator,
                        creationTxHash: creationTxHash
                    }, void 0, false, {
                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                        lineNumber: 583,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex-1 flex flex-col bg-[#1E1E1E] min-w-0",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "px-4 py-2 bg-[#252526] border-b border-[#1E1E1E] text-[#CCCCCC] text-sm flex items-center justify-between",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$PathBreadcrumb$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        path: selectedFile.path
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 612,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                            selectedFile.path.endsWith(".md") && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                                children: [
                                                    !showRawReadme && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: ()=>handleSaveAsImage(selectedFile.content, selectedFile.name),
                                                        className: "px-3 py-1 hover:bg-[#333333] text-gray-400 text-xs rounded-md transition-colors flex items-center gap-2",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                className: "w-4 h-4",
                                                                fill: "none",
                                                                stroke: "currentColor",
                                                                viewBox: "0 0 24 24",
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                    strokeLinecap: "round",
                                                                    strokeLinejoin: "round",
                                                                    strokeWidth: 2,
                                                                    d: "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                                    lineNumber: 632,
                                                                    columnNumber: 25
                                                                }, this)
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                                lineNumber: 626,
                                                                columnNumber: 23
                                                            }, this),
                                                            "Save as Image"
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                        lineNumber: 617,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: ()=>setShowRawReadme(!showRawReadme),
                                                        className: "px-3 py-1 hover:bg-[#333333] text-gray-400 text-xs rounded-md transition-colors flex items-center gap-2",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                className: "w-4 h-4",
                                                                fill: "none",
                                                                stroke: "currentColor",
                                                                viewBox: "0 0 24 24",
                                                                children: showRawReadme ? // Review icon - for View Rendered
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                    strokeLinecap: "round",
                                                                    strokeLinejoin: "round",
                                                                    strokeWidth: 2,
                                                                    d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                                    lineNumber: 654,
                                                                    columnNumber: 25
                                                                }, this) : // Code icon - for View Raw
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                    strokeLinecap: "round",
                                                                    strokeLinejoin: "round",
                                                                    strokeWidth: 2,
                                                                    d: "M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                                    lineNumber: 662,
                                                                    columnNumber: 25
                                                                }, this)
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                                lineNumber: 646,
                                                                columnNumber: 21
                                                            }, this),
                                                            showRawReadme ? "View Rendered" : "View Raw"
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                        lineNumber: 642,
                                                        columnNumber: 19
                                                    }, this)
                                                ]
                                            }, void 0, true),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                onClick: ()=>navigator.clipboard.writeText(selectedFile.content),
                                                className: "px-3 py-1 hover:bg-[#333333] text-gray-400 text-xs rounded-md transition-colors flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                        className: "w-4 h-4",
                                                        fill: "none",
                                                        stroke: "currentColor",
                                                        viewBox: "0 0 24 24",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                            strokeLinecap: "round",
                                                            strokeLinejoin: "round",
                                                            strokeWidth: 2,
                                                            d: "M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                            lineNumber: 686,
                                                            columnNumber: 19
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                        lineNumber: 680,
                                                        columnNumber: 17
                                                    }, this),
                                                    "Copy"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                lineNumber: 674,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 613,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                lineNumber: 611,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex-1 overflow-auto",
                                children: selectedFile.path.endsWith(".md") ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative",
                                    children: showRawReadme ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("pre", {
                                        className: "p-4 text-[#CCCCCC] text-sm font-mono whitespace-pre-wrap",
                                        children: selectedFile.content
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 702,
                                        columnNumber: 19
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "p-4 prose prose-invert max-w-none prose-headings:text-[#E5E5E5]  prose-h1:text-3xl prose-h1:mb-8 prose-h1:pb-4 prose-h1:border-b prose-h1:border-[#333333] prose-h2:text-xl prose-h2:text-[#FF8B3E] prose-h2:mt-8 prose-h2:mb-4 prose-p:text-[#CCCCCC] prose-li:text-[#CCCCCC] prose-strong:text-[#4EC9B0] prose-code:text-[#CE9178] prose-code:bg-[#1E1E1E] [&_ul]:my-0 [&_ul]:pl-4 [&_li]:my-1 [&_pre]:bg-[#252526] [&_pre]:border [&_pre]:border-[#333333] [&_pre]:rounded-md [&_pre]:shadow-sm",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$markdown$2f$lib$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__Markdown__as__default$3e$__["default"], {
                                            children: selectedFile.content
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                            lineNumber: 722,
                                            columnNumber: 21
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 706,
                                        columnNumber: 19
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 700,
                                    columnNumber: 15
                                }, this) : selectedFile.path.endsWith("config.json") || selectedFile.path.endsWith("abi.json") ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("pre", {
                                    className: "p-4 text-[#CCCCCC] text-sm font-mono whitespace-pre",
                                    children: selectedFile.content
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 728,
                                    columnNumber: 15
                                }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("pre", {
                                    ref: preRef,
                                    className: `w-full h-full bg-[#1E1E1E] language-solidity line-numbers
                  ${isWrapped ? "whitespace-pre-wrap break-all" : "whitespace-pre"}`,
                                    style: {
                                        margin: 0
                                    },
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("code", {
                                        ref: codeRef,
                                        className: `language-solidity text-sm font-mono ${isWrapped ? "break-all" : ""}`,
                                        children: selectedFile.content
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 742,
                                        columnNumber: 17
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 732,
                                    columnNumber: 15
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                lineNumber: 698,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                        lineNumber: 610,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                lineNumber: 582,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$ProxyContractAlert$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                isOpen: showProxyAlert,
                onClose: ()=>setShowProxyAlert(false),
                onViewImplementation: handleViewImplementation
            }, void 0, false, {
                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                lineNumber: 756,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$AIConfigModal$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                isOpen: showAIConfig,
                onClose: ()=>setShowAIConfig(false),
                onStartAnalysis: handleStartAnalysis
            }, void 0, false, {
                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                lineNumber: 762,
                columnNumber: 7
            }, this),
            isAnalyzing && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "fixed inset-0 bg-black/50 z-50 flex items-center justify-center",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "bg-[#1E1E1E] rounded-lg p-8 flex flex-col items-center min-w-[400px]",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "relative w-24 h-24 mb-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "absolute inset-0 border-4 border-t-[#FF8B3E] border-r-[#FF8B3E]/50 border-b-[#FF8B3E]/30 border-l-[#FF8B3E]/10  rounded-full animate-spin"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 772,
                                    columnNumber: 15
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "absolute inset-2 bg-[#1E1E1E] rounded-full flex items-center justify-center",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        src: "/mush.png",
                                        alt: "Loading",
                                        width: 40,
                                        height: 40,
                                        className: "animate-bounce-slow"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 777,
                                        columnNumber: 17
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 776,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                            lineNumber: 771,
                            columnNumber: 13
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "text-[#E5E5E5] text-lg mb-2",
                            children: slitherAvailable ? "双引擎分析中" : "AI 分析中"
                        }, void 0, false, {
                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                            lineNumber: 786,
                            columnNumber: 13
                        }, this),
                        analysisProgress && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "w-full mb-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "w-full bg-[#333333] rounded-full h-2 mb-3",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "bg-[#FF8B3E] h-2 rounded-full transition-all duration-500",
                                        style: {
                                            width: `${analysisProgress.percent || 0}%`
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                        lineNumber: 795,
                                        columnNumber: 19
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 794,
                                    columnNumber: 17
                                }, this),
                                slitherAvailable && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex justify-between text-xs mb-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "flex items-center gap-1.5",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: `w-2 h-2 rounded-full ${analysisProgress.slitherDone ? "bg-green-400" : "bg-[#FF8B3E] animate-pulse"}`
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                    lineNumber: 805,
                                                    columnNumber: 23
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "text-gray-400",
                                                    children: [
                                                        "Slither ",
                                                        analysisProgress.slitherDone ? "✓" : "..."
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                    lineNumber: 808,
                                                    columnNumber: 23
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                            lineNumber: 804,
                                            columnNumber: 21
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "flex items-center gap-1.5",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: `w-2 h-2 rounded-full ${analysisProgress.aiDone ? "bg-green-400" : "bg-[#FF8B3E] animate-pulse"}`
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                    lineNumber: 813,
                                                    columnNumber: 23
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "text-gray-400",
                                                    children: [
                                                        "AI ",
                                                        analysisProgress.aiDone ? "✓" : "..."
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                                    lineNumber: 816,
                                                    columnNumber: 23
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                            lineNumber: 812,
                                            columnNumber: 21
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 803,
                                    columnNumber: 19
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-gray-400 text-sm text-center",
                                    children: analysisProgress.message
                                }, void 0, false, {
                                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                                    lineNumber: 823,
                                    columnNumber: 17
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                            lineNumber: 792,
                            columnNumber: 15
                        }, this),
                        !analysisProgress && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "text-gray-400 text-sm mb-4",
                            children: "This may take a few moments..."
                        }, void 0, false, {
                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                            lineNumber: 830,
                            columnNumber: 15
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: handleCancelAnalysis,
                            className: "px-4 py-2 bg-[#252526] text-[#FF8B3E] rounded-md  border border-[#FF8B3E]/20 hover:bg-[#FF8B3E]/10 transition-colors font-medium",
                            children: "Cancel Analysis"
                        }, void 0, false, {
                            fileName: "[project]/src/components/audit/SourcePreview.tsx",
                            lineNumber: 835,
                            columnNumber: 13
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/audit/SourcePreview.tsx",
                    lineNumber: 770,
                    columnNumber: 11
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/components/audit/SourcePreview.tsx",
                lineNumber: 769,
                columnNumber: 9
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/audit/SourcePreview.tsx",
        lineNumber: 475,
        columnNumber: 5
    }, this);
}
_s(SourcePreview, "NQgiXksTSrysM8/uPUmnFPQ4w/8=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$ai$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useAIConfig"]
    ];
});
_c = SourcePreview;
var _c;
__turbopack_context__.k.register(_c, "SourcePreview");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/chainServices.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getAVAXCExplorerBytecodeUrl",
    ()=>getAVAXCExplorerBytecodeUrl,
    "getApiScanConfig",
    ()=>getApiScanConfig,
    "getAuroraExplorerBytecodeUrl",
    ()=>getAuroraExplorerBytecodeUrl,
    "getChainId",
    ()=>getChainId,
    "getExplorerTokenUrl",
    ()=>getExplorerTokenUrl,
    "getExplorerUrl",
    ()=>getExplorerUrl,
    "getRpcUrl",
    ()=>getRpcUrl
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/constants.ts [app-client] (ecmascript)");
;
function getChainId(chain) {
    const chainConfig = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"][chain.toLowerCase()];
    if (!chainConfig) return undefined;
    return chainConfig.id;
}
function getRpcUrl(chain) {
    const chainConfig = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"][chain.toLowerCase()];
    if (!chainConfig) throw new Error(`Unsupported chain: ${chain}`);
    return chainConfig.rpcUrls.default;
}
function getApiScanConfig(chain) {
    const chainConfig = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"][chain.toLowerCase()];
    if (!chainConfig) throw new Error(`Unsupported chain: ${chain}`);
    return {
        url: chainConfig.blockExplorers.default.apiUrl,
        apiKey: chainConfig.blockExplorers.default.apiKey || ""
    };
}
function getExplorerUrl(chain, address) {
    const chainConfig = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"][chain.toLowerCase()];
    if (!chainConfig) return "#";
    return `${chainConfig.blockExplorers.default.url}/address/${address}`;
}
function getExplorerTokenUrl(chain, address) {
    const chainConfig = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"][chain.toLowerCase()];
    if (!chainConfig) return "#";
    return `${chainConfig.blockExplorers.default.url}/token/${address}`;
}
function getAVAXCExplorerBytecodeUrl(address) {
    return `https://snowtrace.io/token/${address}/contract/code?chainid=43114`;
}
function getAuroraExplorerBytecodeUrl(address) {
    return `https://explorer.mainnet.aurora.dev/api/v2/smart-contracts/${address}`;
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/utils/blockchain.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "checkContractOnChains",
    ()=>checkContractOnChains,
    "fetchCreationCodeFromExplorer",
    ()=>fetchCreationCodeFromExplorer,
    "getImplementationAddress",
    ()=>getImplementationAddress
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__ = __turbopack_context__.i("[project]/node_modules/ethers/lib.esm/ethers.js [app-client] (ecmascript) <export * as ethers>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/constants.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/chainServices.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cheerio$2f$dist$2f$browser$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/cheerio/dist/browser/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cheerio$2f$dist$2f$browser$2f$load$2d$parse$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/cheerio/dist/browser/load-parse.js [app-client] (ecmascript)");
;
;
;
;
;
function findContractInfo(address) {
    const lowerAddress = address.toLowerCase();
    for (const [addr, info] of Object.entries(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KNOWN_CONTRACTS"])){
        if (addr.toLowerCase() === lowerAddress) {
            return info;
        }
    }
    return {};
}
async function checkContractOnChains(address) {
    const result = {};
    // Get contract label information
    const contractInfo = findContractInfo(address);
    Object.keys(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"]).forEach((chainName)=>{
        result[chainName] = {
            exists: false
        };
    });
    await Promise.all(Object.entries(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CHAINS"]).map(async ([chainName, chainInfo])=>{
        try {
            const provider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].JsonRpcProvider((0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getRpcUrl"])(chainName));
            // 1. First check if the contract exists using RPC
            const code = await provider.getCode(address);
            if (code === "0x") {
                result[chainName] = {
                    exists: false
                };
                return;
            }
            // 2. Get basic network information, balance, and labels
            const [network, balance, labels] = await Promise.all([
                provider.getNetwork(),
                provider.getBalance(address),
                fetchContractLabels(address, chainName)
            ]);
            result[chainName] = {
                exists: true,
                chainId: network.chainId,
                balance: balance.toString(),
                ...labels
            };
            // 3. Check contract type and get information
            try {
                const contract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].Contract(address, [
                    // ERC165
                    "function supportsInterface(bytes4) view returns (bool)",
                    // General interface
                    "function name() view returns (string)",
                    "function symbol() view returns (string)",
                    "function decimals() view returns (uint8)",
                    "function totalSupply() view returns (uint256)",
                    "function owner() view returns (address)",
                    "function getOwner() view returns (address)",
                    // NFT specific interface
                    "function balanceOf(address) view returns (uint256)",
                    "function ownerOf(uint256) view returns (address)",
                    "function uri(uint256) view returns (string)"
                ], provider);
                let decimals = undefined;
                // Check contract interfaces
                let isERC721 = false;
                let isERC1155 = false;
                try {
                    [isERC721, isERC1155] = await Promise.all([
                        contract.supportsInterface("0x80ac58cd").catch(()=>false),
                        contract.supportsInterface("0xd9b67a26").catch(()=>false)
                    ]);
                } catch (e) {}
                // Only try to get decimals if not an NFT contract
                if (!isERC721 && !isERC1155) {
                    try {
                        const rawDecimals = await contract.decimals();
                        decimals = Number(rawDecimals);
                        result[chainName].decimals = decimals;
                    } catch (error) {
                        // Skip error logging for known Permit2 contract
                        if (!contractInfo.labels?.includes("Permit2")) {}
                    }
                }
                const [name, symbol, totalSupply, owner] = await Promise.all([
                    contract.name().catch(()=>null),
                    contract.symbol().catch(()=>null),
                    contract.totalSupply().catch(()=>null),
                    contract.owner().catch(()=>contract.getOwner().catch(()=>null))
                ]);
                // Set contract type
                if (isERC721 || isERC1155) {
                    result[chainName].contractType = isERC721 ? "ERC721" : "ERC1155";
                } else if (name || symbol || decimals !== undefined || totalSupply) {
                    result[chainName].contractType = "ERC20";
                }
                // Save contract information
                if (name) result[chainName].name = name;
                if (symbol) result[chainName].symbol = symbol;
                if (decimals !== undefined) result[chainName].decimals = decimals;
                if (totalSupply) result[chainName].totalSupply = totalSupply.toString();
                if (owner) result[chainName].owner = owner;
                // Check proxy contract
                try {
                    const implementationResult = await getImplementationAddress(address, chainName);
                    if (implementationResult.address) {
                        result[chainName] = {
                            ...result[chainName],
                            implementation: implementationResult.address,
                            isProxy: true,
                            proxyType: implementationResult.type || "Proxy Contract"
                        };
                        const implContract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].Contract(implementationResult.address, [
                            "function name() view returns (string)",
                            "function symbol() view returns (string)",
                            "function decimals() view returns (uint8)",
                            "function totalSupply() view returns (uint256)"
                        ], provider);
                        try {
                            if (result[chainName].decimals === undefined) {
                                try {
                                    const rawImplDecimals = await implContract.decimals();
                                    const implDecimals = Number(rawImplDecimals);
                                    if (implDecimals !== undefined) {
                                        result[chainName].decimals = implDecimals;
                                    }
                                } catch (e) {
                                    console.error("Failed to get implementation decimals:", e);
                                }
                            }
                            const [name, symbol, totalSupply] = await Promise.all([
                                implContract.name().catch(()=>null),
                                implContract.symbol().catch(()=>null),
                                implContract.totalSupply().catch(()=>null)
                            ]);
                            if (name) result[chainName].name = name;
                            if (symbol) result[chainName].symbol = symbol;
                            if (totalSupply) result[chainName].totalSupply = totalSupply.toString();
                        } catch (e) {
                            console.error("Failed to get implementation contract info:", e);
                        }
                    }
                } catch (e) {
                    console.error("Failed to check proxy status:", e);
                }
            } catch (error) {
                console.error(`Failed to check ${chainName}:`, error);
                result[chainName] = {
                    exists: false
                };
            }
        } catch (error) {
            console.error(`Failed to check ${chainName}:`, error);
            result[chainName] = {
                exists: false
            };
        }
    }));
    return result;
}
async function fetchContractLabels(address, chain) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KNOWN_CONTRACTS"][address.toLowerCase()] || {};
}
async function getImplementationAddress(proxyAddress, chain) {
    try {
        const provider = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].JsonRpcProvider((0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getRpcUrl"])(chain), undefined, {
            staticNetwork: true
        });
        // 1. Check EIP-1967 proxy
        const EIP1967_IMPLEMENTATION_SLOT = "0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc";
        let implementation = await provider.getStorage(proxyAddress, EIP1967_IMPLEMENTATION_SLOT);
        if (implementation && implementation !== "0x" && implementation !== "0x0000000000000000000000000000000000000000000000000000000000000000") {
            return {
                address: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].getAddress("0x" + implementation.slice(-40)),
                type: "EIP-1967 Proxy"
            };
        }
        // 2. Check UUPS proxy
        const UUPS_BEACON_SLOT = "0x7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c3";
        implementation = await provider.getStorage(proxyAddress, UUPS_BEACON_SLOT);
        if (implementation && implementation !== "0x" && implementation !== "0x0000000000000000000000000000000000000000000000000000000000000000") {
            return {
                address: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].getAddress("0x" + implementation.slice(-40)),
                type: "UUPS Proxy"
            };
        }
        // 3. Check transparent proxy
        const TRANSPARENT_PROXY_SLOT = "0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103";
        implementation = await provider.getStorage(proxyAddress, TRANSPARENT_PROXY_SLOT);
        if (implementation && implementation !== "0x" && implementation !== "0x0000000000000000000000000000000000000000000000000000000000000000") {
            return {
                address: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].getAddress("0x" + implementation.slice(-40)),
                type: "Transparent Proxy"
            };
        }
        // 4. Check beacon proxy
        const BEACON_IMPLEMENTATION_SLOT = "0xa3f0ad74e5423aebfd80d3ef4346578335a9a72aeaee59ff6cb3582b35133d50";
        const beaconAddress = await provider.getStorage(proxyAddress, BEACON_IMPLEMENTATION_SLOT);
        if (beaconAddress && beaconAddress !== "0x" && beaconAddress !== "0x0000000000000000000000000000000000000000000000000000000000000000") {
            const beacon = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].Contract(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].getAddress("0x" + beaconAddress.slice(-40)), [
                "function implementation() view returns (address)"
            ], provider);
            try {
                const beaconImpl = await beacon.implementation();
                if (beaconImpl && beaconImpl !== "0x0000000000000000000000000000000000000000") {
                    return {
                        address: beaconImpl,
                        type: "Beacon Proxy"
                    };
                }
            } catch (e) {
                console.log("Failed to get beacon implementation");
            }
        }
        // 5. Try to call contract methods directly
        const proxyContract = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$ethers$2f$lib$2e$esm$2f$ethers$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__ethers$3e$__["ethers"].Contract(proxyAddress, [
            "function implementation() view returns (address)",
            "function getImplementation() view returns (address)",
            "function masterCopy() view returns (address)",
            "function getProxyImplementation() view returns (address)"
        ], provider);
        for (const method of [
            "implementation",
            "getImplementation",
            "masterCopy",
            "getProxyImplementation"
        ]){
            try {
                const impl = await proxyContract[method]();
                if (impl && impl !== "0x0000000000000000000000000000000000000000") {
                    return {
                        address: impl,
                        type: "Generic Proxy"
                    };
                }
            } catch (e) {
                continue;
            }
        }
        return {
            address: null,
            type: null
        };
    } catch (error) {
        return {
            address: null,
            type: null
        };
    }
}
async function fetchCreationCodeFromExplorer(chain, address) {
    const urls = chain.toLowerCase() === "avalanche" ? [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getAVAXCExplorerBytecodeUrl"])(address)
    ] : [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getExplorerTokenUrl"])(chain, address),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getExplorerUrl"])(chain, address)
    ];
    // Try different CORS proxies
    const corsProxies = [
        "https://api.allorigins.win/raw?url=",
        "https://api.codetabs.com/v1/proxy?quest=",
        "https://proxy.cors.sh/",
        "https://cors-anywhere.herokuapp.com/",
        "https://cors.bridged.cc/",
        "https://cors-proxy.htmldriven.com/?url=",
        "https://cors.eu.org/",
        "https://yacdn.org/proxy/",
        "https://cors-proxy.fringe.zone/",
        "https://cors.streamlit.app/",
        "https://crossorigin.me/",
        "https://thingproxy.freeboard.io/fetch/"
    ];
    // Add more headers
    const headers = {
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Firefox/121.0",
        Accept: "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8",
        "Accept-Language": "en-US,en;q=0.5",
        "Accept-Encoding": "gzip, deflate, br",
        Origin: `https://${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WEBSITE_URL"]}`,
        Referer: `https://${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$constants$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["WEBSITE_URL"]}`,
        DNT: "1",
        Connection: "keep-alive",
        "Sec-Fetch-Dest": "document",
        "Sec-Fetch-Mode": "cors",
        "Sec-Fetch-Site": "cross-site"
    };
    for (const explorerUrl of urls){
        try {
            let html = "";
            let proxySuccess = false;
            // Try each proxy until one works
            for (const proxy of corsProxies){
                try {
                    // console.log(`Trying proxy: ${proxy}`);
                    const proxyUrl = proxy + encodeURIComponent(explorerUrl);
                    const response = await fetch(proxyUrl, {
                        headers,
                        mode: "cors",
                        credentials: "omit",
                        redirect: "follow",
                        referrerPolicy: "no-referrer-when-downgrade"
                    });
                    if (response.ok) {
                        const text = await response.text();
                        // Validate the returned content
                        if (text && !text.includes("Access Denied") && !text.includes("Too Many Requests")) {
                            html = text;
                            proxySuccess = true;
                            break;
                        } else {
                        //console.log(`Invalid response from proxy: ${proxy}`);
                        // await delay(1);
                        }
                    } else {
                    //console.log(`Failed with proxy ${proxy}: ${response.status}`);
                    //await delay(1);
                    }
                } catch (proxyError) {
                    continue;
                }
            }
            if (!proxySuccess) {
                continue; // Try next URL if all proxies failed
            }
            const $ = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cheerio$2f$dist$2f$browser$2f$load$2d$parse$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["load"](html);
            //console.log("html:", html);
            let creationCode = "";
            // avalanche chain
            if (chain.toLowerCase() === "avalanche") {
                // find the div contains "Contract Creation Code"
                $('div:contains("Contract Creation Code")').each((_, element)=>{
                    // find the next pre tag
                    const preElement = $(element).nextAll("pre").first();
                    const text = preElement.text().trim();
                    //console.log("Found text:", text);
                    if (text && text.match(/^[0-9a-fA-F]+$/)) {
                        creationCode = text;
                    //console.log("Found creation code:", creationCode);
                    }
                });
            } else {
                // other chains
                const text = $("#verifiedbytecode2").text().trim();
                if (text && text.match(/^[0-9a-fA-F]+$/)) {
                    creationCode = text;
                }
            }
            if (creationCode) {
                return creationCode.startsWith("0x") ? creationCode : "0x" + creationCode;
            }
        // If no creation code found, continue to next URL
        } catch (error) {
            console.error("Error fetching creation code:", error);
            continue; // Try next URL if error occurred
        }
    }
    // Return empty string if all attempts failed
    return "";
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/app/audit/source/page.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>SourcePage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/react-hot-toast/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$SourcePreview$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/audit/SourcePreview.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/chainServices.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$blockchain$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/blockchain.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
function SourceContent() {
    _s();
    const searchParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSearchParams"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    const [sourceData, setSourceData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(true);
    const address = searchParams.get("address");
    const chain = searchParams.get("chain");
    const implementation = searchParams.get("implementation");
    const tokenName = searchParams.get("tokenName");
    const chainId = chain ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$chainServices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getChainId"])(chain) : undefined;
    const handleStartAnalysis = ()=>{
        if (address && chain) {
            router.push(`/audit/analyze?address=${address}&chain=${chain}`);
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error("Missing address or chain information");
        }
    };
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "SourceContent.useEffect": ()=>{
            const fetchSource = {
                "SourceContent.useEffect.fetchSource": async ()=>{
                    if (!address || !chain) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error("Missing address or chain");
                        setLoading(false);
                        return;
                    }
                    try {
                        const response = await fetch(`/api/source?address=${address}&chain=${chain}`);
                        const data = await response.json();
                        if (data.error) {
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(data.error);
                            return;
                        }
                        const contractResponse = await fetch(`/api/contract-info?address=${address}&chain=${chain}`);
                        const contractData = await contractResponse.json();
                        // // console.log("creation code:", contractData.creationCode);
                        if (contractData && contractData.creationCode == "") {
                            // console.log("11\n");
                            // console.log("chain:", chain);
                            // console.log("address:", address);
                            contractData.creationCode = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$blockchain$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchCreationCodeFromExplorer"])(chain, address);
                            //console.log("creation code2:", contractData.creationCode);
                            if (contractData.creationCode === "") {
                                contractData.creationCode = "api not found, you need to view the contract on the blockchain explorer manually";
                            }
                        }
                        let implementationInfo;
                        if (implementation) {
                            try {
                                const implResponse = await fetch(`/api/contract-info?address=${implementation}&chain=${chain}`);
                                if (implResponse.ok) {
                                    implementationInfo = await implResponse.json();
                                    if (implementationInfo && implementationInfo.creationCode == "") {
                                        implementationInfo.creationCode = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$blockchain$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchCreationCodeFromExplorer"])(chain, implementation);
                                        //console.log("imp creation code2:", implementationInfo.creationCode);
                                        if (implementationInfo.creationCode === "") {
                                            implementationInfo.creationCode = "api not found, you need to view the contract on the blockchain explorer manually";
                                        }
                                    }
                                } else {
                                    const errorData = await implResponse.json();
                                    console.error("Failed to fetch implementation contract info:", errorData);
                                }
                            } catch (error) {
                                console.error("Error fetching implementation info:", error);
                            }
                        }
                        let filteredFiles = [
                            ...data.files
                        ];
                        setSourceData({
                            files: filteredFiles,
                            settings: data.settings,
                            contractName: data.contractName,
                            compiler: data.compiler,
                            optimization: data.optimization,
                            runs: data.runs,
                            abi: data.abi,
                            implementationAbi: data.implementationAbi,
                            implementationAddress: implementation || undefined,
                            implementationInfo: implementationInfo || undefined,
                            creationCode: contractData.creationCode,
                            deployedBytecode: contractData.deployedBytecode,
                            creator: contractData.creator,
                            creationTxHash: contractData.creationTxHash
                        });
                    } catch (error) {
                        console.error("Error:", error);
                        if (!(error instanceof Response && error.status === 404)) {
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error("Failed to fetch source code");
                        }
                        setSourceData(null);
                    } finally{
                        setLoading(false);
                    }
                }
            }["SourceContent.useEffect.fetchSource"];
            fetchSource();
        }
    }["SourceContent.useEffect"], [
        searchParams
    ]);
    if (loading) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "fixed inset-0 bg-[#1E1E1E] flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "relative w-24 h-24 mx-auto mb-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute inset-0 border-4 border-t-mush-orange border-r-mush-orange/50 border-b-mush-orange/30 border-l-mush-orange/10  rounded-full animate-spin"
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 164,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute inset-2 border-2 border-mush-orange/50 rounded-full  animate-[ping_2s_cubic-bezier(0,0,0.2,1)_infinite]"
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 170,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute inset-3 bg-[#1E1E1E] rounded-full flex items-center justify-center border border-mush-orange/20",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    src: "/mush.png",
                                    alt: "Loading",
                                    width: 40,
                                    height: 40,
                                    className: "animate-bounce-slow"
                                }, void 0, false, {
                                    fileName: "[project]/src/app/audit/source/page.tsx",
                                    lineNumber: 180,
                                    columnNumber: 15
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 176,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/audit/source/page.tsx",
                        lineNumber: 162,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "space-y-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                className: "text-xl font-medium text-white",
                                children: "Loading Source Code"
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 191,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-sm text-gray-400",
                                children: "Fetching contract files from blockchain..."
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 194,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/audit/source/page.tsx",
                        lineNumber: 190,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/audit/source/page.tsx",
                lineNumber: 161,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/app/audit/source/page.tsx",
            lineNumber: 160,
            columnNumber: 7
        }, this);
    }
    if (!sourceData) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "fixed inset-0 bg-[#1E1E1E] flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-white text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-lg mb-2",
                        children: "No source code found"
                    }, void 0, false, {
                        fileName: "[project]/src/app/audit/source/page.tsx",
                        lineNumber: 207,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-sm text-gray-400",
                        children: [
                            "This contract may not exist on ",
                            chain,
                            " or its source code is not verified."
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/audit/source/page.tsx",
                        lineNumber: 208,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/audit/source/page.tsx",
                lineNumber: 206,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/app/audit/source/page.tsx",
            lineNumber: 205,
            columnNumber: 7
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$audit$2f$SourcePreview$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
        files: sourceData.files,
        onAnalyze: handleStartAnalysis,
        contractName: sourceData.contractName,
        compiler: sourceData.compiler,
        optimization: sourceData.optimization,
        runs: sourceData.runs,
        chainId: chainId || undefined,
        address: address || undefined,
        implementationAddress: implementation || undefined,
        implementationInfo: sourceData.implementationInfo,
        evmVersion: sourceData.settings?.evmVersion,
        tokenName: tokenName || undefined,
        creationCode: sourceData.creationCode,
        deployedBytecode: sourceData.deployedBytecode,
        abi: sourceData.abi,
        implementationAbi: sourceData.implementationAbi,
        creator: sourceData.creator,
        creationTxHash: sourceData.creationTxHash
    }, void 0, false, {
        fileName: "[project]/src/app/audit/source/page.tsx",
        lineNumber: 218,
        columnNumber: 5
    }, this);
}
_s(SourceContent, "+LCsPngctuA95XjyCtyzZb2grcw=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSearchParams"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"]
    ];
});
_c = SourceContent;
function SourcePage() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Suspense"], {
        fallback: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "fixed inset-0 bg-[#1E1E1E] flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "relative w-24 h-24 mx-auto mb-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute inset-0 border-4 border-t-mush-orange border-r-mush-orange/50 border-b-mush-orange/30 border-l-mush-orange/10 rounded-full animate-spin"
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 249,
                                columnNumber: 15
                            }, void 0),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute inset-2 border-2 border-mush-orange/50 rounded-full animate-[ping_2s_cubic-bezier(0,0,0.2,1)_infinite]"
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 251,
                                columnNumber: 15
                            }, void 0),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute inset-3 bg-[#1E1E1E] rounded-full flex items-center justify-center border border-mush-orange/20",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    src: "/mush.png",
                                    alt: "Loading",
                                    width: 32,
                                    height: 32,
                                    priority: true,
                                    className: "animate-bounce-slow"
                                }, void 0, false, {
                                    fileName: "[project]/src/app/audit/source/page.tsx",
                                    lineNumber: 254,
                                    columnNumber: 17
                                }, void 0)
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 253,
                                columnNumber: 15
                            }, void 0)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/audit/source/page.tsx",
                        lineNumber: 247,
                        columnNumber: 13
                    }, void 0),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "space-y-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                className: "text-xl font-medium text-white",
                                children: "Loading Source Code"
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 265,
                                columnNumber: 15
                            }, void 0),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-sm text-gray-400",
                                children: "Fetching contract files from blockchain..."
                            }, void 0, false, {
                                fileName: "[project]/src/app/audit/source/page.tsx",
                                lineNumber: 268,
                                columnNumber: 15
                            }, void 0)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/audit/source/page.tsx",
                        lineNumber: 264,
                        columnNumber: 13
                    }, void 0)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/audit/source/page.tsx",
                lineNumber: 246,
                columnNumber: 11
            }, void 0)
        }, void 0, false, {
            fileName: "[project]/src/app/audit/source/page.tsx",
            lineNumber: 245,
            columnNumber: 9
        }, void 0),
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(SourceContent, {}, void 0, false, {
            fileName: "[project]/src/app/audit/source/page.tsx",
            lineNumber: 276,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/app/audit/source/page.tsx",
        lineNumber: 243,
        columnNumber: 5
    }, this);
}
_c1 = SourcePage;
var _c, _c1;
__turbopack_context__.k.register(_c, "SourceContent");
__turbopack_context__.k.register(_c1, "SourcePage");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
]);

//# sourceMappingURL=src_c2c2d503._.js.map